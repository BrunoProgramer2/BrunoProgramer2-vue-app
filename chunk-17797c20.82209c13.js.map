{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/length-of-array-like.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/try-to-string.js","webpack:///./node_modules/websocket/lib/version.js","webpack:///./node_modules/core-js/internals/make-built-in.js","webpack:///./node_modules/core-js/internals/is-callable.js","webpack:///./node_modules/core-js/internals/has-own-property.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/function-apply.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/object-is-prototype-of.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/internals/function-bind-native.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/ordinary-to-primitive.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/to-string.js","webpack:///./node_modules/core-js/internals/to-integer-or-infinity.js","webpack:///./node_modules/core-js/internals/a-callable.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/function-name.js","webpack:///./node_modules/core-js/internals/define-global-property.js","webpack:///./node_modules/es5-ext/global.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/websocket/lib/browser.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/to-property-key.js","webpack:///./node_modules/core-js/internals/install-error-cause.js","webpack:///./node_modules/core-js/internals/proxy-accessor.js","webpack:///./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack:///./node_modules/core-js/internals/math-trunc.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/error-stack-installable.js","webpack:///./src/views/Home.vue?76f1","webpack:///./node_modules/@supabase/supabase-js/dist/module/lib/version.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/lib/constants.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/lib/helpers.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/lib/version.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/lib/constants.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/lib/cookies.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/lib/helpers.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/GoTrueApi.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/lib/polyfills.js","webpack:///./node_modules/@supabase/gotrue-js/dist/module/GoTrueClient.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseAuthClient.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/types.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestTransformBuilder.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestFilterBuilder.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestQueryBuilder.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/PostgrestRpcBuilder.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/version.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/lib/constants.js","webpack:///./node_modules/@supabase/postgrest-js/dist/module/PostgrestClient.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/lib/version.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/lib/constants.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/lib/timer.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/lib/push.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/RealtimeSubscription.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/RealtimePresence.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/RealtimeChannel.js","webpack:///./node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseRealtimeClient.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseQueryBuilder.js","webpack:///./node_modules/@supabase/storage-js/dist/module/lib/version.js","webpack:///./node_modules/@supabase/storage-js/dist/module/lib/constants.js","webpack:///./node_modules/@supabase/storage-js/dist/module/lib/fetch.js","webpack:///./node_modules/@supabase/storage-js/dist/module/lib/helpers.js","webpack:///./node_modules/@supabase/storage-js/dist/module/lib/StorageBucketApi.js","webpack:///./node_modules/@supabase/storage-js/dist/module/lib/StorageFileApi.js","webpack:///./node_modules/@supabase/storage-js/dist/module/StorageClient.js","webpack:///./node_modules/@supabase/functions-js/dist/module/helper.js","webpack:///./node_modules/@supabase/functions-js/dist/module/index.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/SupabaseClient.js","webpack:///./node_modules/@supabase/supabase-js/dist/module/index.js","webpack:///./src/components/client.vue?30f9","webpack:///./src/components/client.vue","webpack:///./src/views/Home.vue?4912","webpack:///./src/views/Home.vue","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/function-call.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/clear-error-stack.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/define-built-in.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/internals/is-symbol.js","webpack:///./node_modules/core-js/modules/es.error.cause.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/internals/get-method.js","webpack:///./node_modules/core-js/internals/function-uncurry-this.js","webpack:///./node_modules/core-js/internals/normalize-string-argument.js","webpack:///./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","DESCRIPTORS","call","propertyIsEnumerableModule","createPropertyDescriptor","toIndexedObject","toPropertyKey","hasOwn","IE8_DOM_DEFINE","$getOwnPropertyDescriptor","Object","getOwnPropertyDescriptor","f","O","P","error","toLength","obj","length","fails","createElement","defineProperty","get","a","$String","argument","version","isCallable","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","inspectSource","InternalStateModule","enforceInternalState","enforce","getInternalState","CONFIGURABLE_LENGTH","value","TEMPLATE","split","makeBuiltIn","name","options","slice","replace","getter","setter","configurable","arity","constructor","writable","prototype","undefined","state","source","join","Function","toString","this","uncurryThis","toObject","hasOwnProperty","it","key","$TypeError","TypeError","toIntegerOrInfinity","max","Math","min","index","integer","global","createNonEnumerableProperty","defineBuiltIn","defineGlobalProperty","copyConstructorProperties","isForced","FORCED","target","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","concat","getOwnPropertyNames","NATIVE_BIND","FunctionPrototype","apply","Reflect","bind","arguments","match","userAgent","process","Deno","versions","v8","getBuiltIn","isPrototypeOf","classof","$Object","propertyIsEnumerable","isObject","input","pref","fn","val","valueOf","V8_VERSION","getOwnPropertySymbols","symbol","Symbol","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","indexOf","IS_PURE","store","push","mode","copyright","license","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","anObject","keys","trunc","number","tryToString","bitmap","enumerable","getDescriptor","EXISTS","PROPER","naiveFallback","self","window","Error","globalThis","__global__","set","has","NATIVE_WEAK_MAP","shared","sharedKey","OBJECT_ALREADY_INITIALIZED","WeakMap","getterFor","TYPE","type","wmget","wmhas","wmset","metadata","facade","STATE","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","requireObjectCoercible","_globalThis","NativeWebSocket","WebSocket","MozWebSocket","websocket_version","W3CWebSocket","uri","protocols","native_instance","forEach","prop","functionToString","id","postfix","random","definePropertyModule","object","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","toLowerCase","V8_PROTOTYPE_DEFINE_BUG","$defineProperty","ENUMERABLE","WRITABLE","Attributes","current","toPrimitive","isSymbol","cause","Target","Source","ceil","floor","x","n","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","stack","_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_withDirectives","_createElementVNode","placeholder","$event","email","onKeyup","_withKeys","args","login","_vModelText","DEFAULT_HEADERS","STORAGE_KEY","stripTrailingSlash","url","isBrowser","GOTRUE_URL","EXPIRY_MARGIN","NETWORK_FAILURE","ERROR_MESSAGE","MAX_RETRIES","RETRY_INTERVAL","COOKIE_OPTIONS","lifetime","domain","path","sameSite","__awaiter","thisArg","_arguments","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","_getErrorMessage","err","msg","message","error_description","JSON","stringify","handleError","status","json","_getRequestParams","method","body","params","headers","assign","_handleRequest","fetcher","ok","noResolveJson","catch","post","put","remove","serialize","opt","enc","encodeURIComponent","fieldContentRegExp","str","maxAge","isNaN","isFinite","expires","toUTCString","httpOnly","secure","isSecureEnvironment","req","host","endsWith","serializeCookie","cookie","_a","_b","_c","Date","now","getCookieString","res","cookies","strCookies","map","c","previousCookies","getHeader","Array","setCookies","setHeader","expiresIn","timeNow","round","r","v","getParameterByName","location","href","regex","RegExp","results","exec","decodeURIComponent","resolveFetch","customFetch","_fetch","fetch","setItemAsync","storage","setItem","getItemAsync","getItem","parse","getItemSynchronously","removeItemAsync","removeItem","cookieOptions","jwt","provider","urlParams","redirectTo","scopes","queryParams","query","URLSearchParams","password","queryString","gotrue_meta_security","captcha_token","captchaToken","session","expires_in","expires_at","phone","id_token","nonce","client_id","issuer","shouldCreateUser","create_user","_createRequestHeaders","token","redirect_to","refreshToken","refresh_token","end","event","access_token","cookieName","redirect","attributes","user","users","getUserError","getUser","refreshAccessToken","polyfillGlobalThis","__magic__","DEFAULT_OPTIONS","autoRefreshToken","persistSession","detectSessionInUrl","multiTab","stateChangeEmitters","Map","networkRetries","settings","currentUser","currentSession","localStorage","api","_recoverSession","_recoverAndRefresh","_listenForMultiTabEvents","_handleVisibilityChange","getSessionFromUrl","storeSession","_removeSession","signUpWithPhone","signUpWithEmail","_saveSession","_notifyAllSubscribers","oidc","sendMagicLinkEmail","_handleEmailSignIn","sendMobileOTP","_handlePhoneSignIn","_callRefreshToken","_handleProviderSignIn","_handleOpenIDConnectSignIn","verifyOTP","updateUser","token_type","provider_token","parseInt","recoveryMode","hash","accessToken","signOut","callback","subscription","unsubscribe","delete","signInWithEmail","confirmed_at","email_confirmed_at","signInWithPhone","phone_confirmed_at","getUrlForProvider","signInWithOpenIDConnect","expiresAt","console","log","refreshTokenTimer","clearTimeout","setTimeout","pow","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","unref","addEventListener","newSession","newValue","document","visibilityState","super","PostgrestBuilder","builder","shouldThrowOnError","allowEmpty","throwOnError","onfulfilled","onrejected","schema","signal","_d","count","statusText","isReturnMinimal","text","countHeader","contentRange","_e","details","postgrestResponse","fetchError","hint","code","columns","quoted","cleanedColumns","searchParams","column","ascending","nullsFirst","foreignTable","existingOrder","from","to","keyOffset","keyLimit","cs","contains","cd","containedBy","sl","rangeLt","sr","rangeGt","nxl","rangeGte","nxr","rangeLte","adj","rangeAdjacent","ov","overlaps","operator","append","filters","pattern","values","cleanedValues","s","isArray","range","config","typePart","configPart","URL","head","upsert","onConflict","returning","prefersHeaders","unshift","reduce","acc","uniqueColumns","Set","ignoreDuplicates","entries","table","rpc","PostgresTypes","convertChangeData","record","skipTypes","rec_key","convertColumn","columnName","find","colType","convertCell","noop","charAt","dataType","toArray","bool","toBoolean","float4","float8","int2","int4","int8","numeric","oid","toNumber","jsonb","toJson","timestamp","toTimestampString","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","Number","lastIdx","closeBrace","openBrace","arr","valTrim","_","VSN","DEFAULT_TIMEOUT","WS_CLOSE_NORMAL","SOCKET_STATES","CHANNEL_STATES","CHANNEL_EVENTS","TRANSPORTS","CONNECTION_STATE","Timer","timerCalc","timer","tries","Serializer","HEADER_LENGTH","rawPayload","ArrayBuffer","_binaryDecode","buffer","view","DataView","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","offset","topic","decode","byteLength","ref","payload","channel","timeout","sent","timeoutTimer","receivedResp","recHooks","refEvent","_cancelRefEvent","send","_hasReceived","startTimeout","socket","response","makeRef","replyEventName","_cancelTimeout","_matchReceive","on","trigger","off","filter","h","bindings","closed","joinedOnce","pushBuffer","joinPush","rejoinTimer","rejoinUntilConnected","reconnectAfterMs","receive","joined","reset","pushEvent","onClose","joinRef","onError","reason","isLeaving","isClosed","errored","scheduleTimeout","isJoining","reply","isConnected","rejoin","close","isJoined","canPush","updatePayload","leaving","destroy","leavePush","leave","leaveOpenTopic","joining","resend","events","handledPayload","onMessage","RealtimePresence","opts","pendingDiffs","caller","onJoin","onLeave","onSync","diff","newState","syncState","syncDiff","inPendingSyncState","currentState","cloneDeep","transformedState","transformState","joins","leaves","presences","newPresences","currentPresences","newPresenceIds","m","presence_id","curPresenceIds","joinedPresences","leftPresences","joinedPresenceIds","curPresences","presenceIdsToRemove","chooser","_key","pres","func","metas","presence","by","list","configs","binding","updateJoinPayload","isEqual","obj1","obj2","k","__rest","t","p","i","endPoint","channels","transport","heartbeatIntervalMs","longpollerTimeout","heartbeatTimer","pendingHeartbeatRef","logger","conn","sendBuffer","serializer","stateChangeCallbacks","open","websocket","encode","reconnectTimer","disconnect","connect","endPointURL","binaryType","onopen","_onConnOpen","onerror","_onConnError","onmessage","onConnMessage","onclose","_onConnClose","_reject","clearInterval","kind","readyState","connecting","Connecting","Open","closing","Closing","Closed","connectionState","chanParams","selfBroadcast","self_broadcast","chan","vsndate","rawMessage","isMember","_appendParams","vsn","newRef","user_token","dupChannel","_flushSendBuffer","setInterval","_sendHeartbeat","_triggerChanError","prefix","setAuth","tableName","userToken","records","new","old","old_record","enrichedPayload","commit_timestamp","eventType","errors","getPayloadRecords","subscribe","realtime","_subscription","_realtime","_headers","_schema","_table","parameters","public","DEFAULT_SEARCH_OPTIONS","limit","sortBy","order","DEFAULT_FILE_OPTIONS","cacheControl","contentType","bucketId","fileBody","fileOptions","Blob","FormData","cleanPath","_removeEmptyFolders","_path","_getFinalPath","Key","uploadOrUpdate","fromPath","toPath","sourceKey","destinationKey","signedURL","paths","datum","blob","publicURL","prefixes","Authorization","functionName","invokeOptions","isRelayError","responseType","arrayBuffer","supabaseUrl","supabaseKey","_supabaseUrl","restUrl","realtimeUrl","authUrl","storageUrl","isPlatform","urlParts","functionsUrl","auth","_initSupabaseAuthClient","_initRealtimeClient","_listenForAuthEvents","_getAuthHeaders","rest","_initPostgRESTClient","allSubs","getSubscriptions","allSubPromises","sub","removeSubscription","allRemovedSubs","all","_closeSubscription","allChans","openChanCount","openChannels","openSubCount","openSubscriptions","unsubError","_unsubscribeSubscription","authHeaders","apikey","authBearer","previousAccessToken","_handleTokenChanged","onAuthStateChange","changedAccessToken","createClient","supabase","__exports__","defineComponent","methods","signIn","insert","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","stringSlice","SHARED","$Error","TEST","arg","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","dropEntries","prepareStackTrace","names","simple","unsafe","nonConfigurable","nonWritable","aFunction","namespace","$propertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","CORRECT_SETTER","proto","__proto__","$Symbol","$","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","ERROR_NAME","wrapper","exportWebAssemblyErrorCauseWrapper","init","check","aCallable","$default","proxyAccessor","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","FULL_NAME","IS_AGGREGATE_ERROR","STACK_TRACE_LIMIT","OPTIONS_POSITION","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","b","ownKeys","getOwnPropertyDescriptorModule","exceptions","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tryGet","tag","callee","IndexedObject","iterator"],"mappings":"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","file":"js/chunk-17797c20.82209c13.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","module.exports = require('../package.json').version;\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","var $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.23.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es-x/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","import { vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      placeholder: \"example@example.com\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.email) = $event)),\n      onKeyup: _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.login && _ctx.login(...args)), [\"enter\"]))\n    }, null, 544), [\n      [_vModelText, _ctx.email]\n    ]),\n    _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      placeholder: \"example@example.com\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.name) = $event)),\n      onKeyup: _cache[3] || (_cache[3] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.login && _ctx.login(...args)), [\"enter\"]))\n    }, null, 544), [\n      [_vModelText, _ctx.name]\n    ])\n  ]))\n}","export const version = '1.35.4';\n//# sourceMappingURL=version.js.map","// constants.ts\nimport { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` };\nexport const STORAGE_KEY = 'supabase.auth.token';\n//# sourceMappingURL=constants.js.map","// helpers.ts\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport function stripTrailingSlash(url) {\n    return url.replace(/\\/$/, '');\n}\nexport const isBrowser = () => typeof window !== 'undefined';\n//# sourceMappingURL=helpers.js.map","// generated by genversion\nexport const version = '1.22.20';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const GOTRUE_URL = 'http://localhost:9999';\nexport const AUDIENCE = '';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` };\nexport const EXPIRY_MARGIN = 10; // in seconds\nexport const NETWORK_FAILURE = {\n    ERROR_MESSAGE: 'Request Failed',\n    MAX_RETRIES: 10,\n    RETRY_INTERVAL: 2, // in deciseconds\n};\nexport const STORAGE_KEY = 'supabase.auth.token';\nexport const COOKIE_OPTIONS = {\n    name: 'sb',\n    lifetime: 60 * 60 * 8,\n    domain: '',\n    path: '/',\n    sameSite: 'lax',\n};\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { NETWORK_FAILURE } from './constants';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => {\n    if (!(error === null || error === void 0 ? void 0 : error.status)) {\n        return reject({ message: NETWORK_FAILURE.ERROR_MESSAGE });\n    }\n    if (typeof error.json !== 'function') {\n        return reject(error);\n    }\n    error.json().then((err) => {\n        return reject({\n            message: _getErrorMessage(err),\n            status: (error === null || error === void 0 ? void 0 : error.status) || 500,\n        });\n    });\n};\nconst _getRequestParams = (method, options, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'text/plain;charset=UTF-8' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return params;\n};\nfunction _handleRequest(fetcher, method, url, options, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return resolve;\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options);\n    });\n}\nexport function post(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, body);\n    });\n}\nexport function put(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, body);\n    });\n}\nexport function remove(fetcher, url, body, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","/**\n * Serialize data into a cookie header.\n */\nfunction serialize(name, val, options) {\n    const opt = options || {};\n    const enc = encodeURIComponent;\n    /* eslint-disable-next-line no-control-regex */\n    const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n    if (typeof enc !== 'function') {\n        throw new TypeError('option encode is invalid');\n    }\n    if (!fieldContentRegExp.test(name)) {\n        throw new TypeError('argument name is invalid');\n    }\n    const value = enc(val);\n    if (value && !fieldContentRegExp.test(value)) {\n        throw new TypeError('argument val is invalid');\n    }\n    let str = name + '=' + value;\n    if (null != opt.maxAge) {\n        const maxAge = opt.maxAge - 0;\n        if (isNaN(maxAge) || !isFinite(maxAge)) {\n            throw new TypeError('option maxAge is invalid');\n        }\n        str += '; Max-Age=' + Math.floor(maxAge);\n    }\n    if (opt.domain) {\n        if (!fieldContentRegExp.test(opt.domain)) {\n            throw new TypeError('option domain is invalid');\n        }\n        str += '; Domain=' + opt.domain;\n    }\n    if (opt.path) {\n        if (!fieldContentRegExp.test(opt.path)) {\n            throw new TypeError('option path is invalid');\n        }\n        str += '; Path=' + opt.path;\n    }\n    if (opt.expires) {\n        if (typeof opt.expires.toUTCString !== 'function') {\n            throw new TypeError('option expires is invalid');\n        }\n        str += '; Expires=' + opt.expires.toUTCString();\n    }\n    if (opt.httpOnly) {\n        str += '; HttpOnly';\n    }\n    if (opt.secure) {\n        str += '; Secure';\n    }\n    if (opt.sameSite) {\n        const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n        switch (sameSite) {\n            case 'lax':\n                str += '; SameSite=Lax';\n                break;\n            case 'strict':\n                str += '; SameSite=Strict';\n                break;\n            case 'none':\n                str += '; SameSite=None';\n                break;\n            default:\n                throw new TypeError('option sameSite is invalid');\n        }\n    }\n    return str;\n}\n/**\n * Based on the environment and the request we know if a secure cookie can be set.\n */\nfunction isSecureEnvironment(req) {\n    if (!req || !req.headers || !req.headers.host) {\n        throw new Error('The \"host\" request header is not available');\n    }\n    const host = (req.headers.host.indexOf(':') > -1 && req.headers.host.split(':')[0]) || req.headers.host;\n    if (['localhost', '127.0.0.1'].indexOf(host) > -1 || host.endsWith('.local')) {\n        return false;\n    }\n    return true;\n}\n/**\n * Serialize a cookie to a string.\n */\nfunction serializeCookie(cookie, secure) {\n    var _a, _b, _c;\n    return serialize(cookie.name, cookie.value, {\n        maxAge: cookie.maxAge,\n        expires: new Date(Date.now() + cookie.maxAge * 1000),\n        httpOnly: true,\n        secure,\n        path: (_a = cookie.path) !== null && _a !== void 0 ? _a : '/',\n        domain: (_b = cookie.domain) !== null && _b !== void 0 ? _b : '',\n        sameSite: (_c = cookie.sameSite) !== null && _c !== void 0 ? _c : 'lax',\n    });\n}\n/**\n * Get Cookie Header strings.\n */\nexport function getCookieString(req, res, cookies) {\n    const strCookies = cookies.map((c) => serializeCookie(c, isSecureEnvironment(req)));\n    const previousCookies = res.getHeader('Set-Cookie');\n    if (previousCookies) {\n        if (previousCookies instanceof Array) {\n            Array.prototype.push.apply(strCookies, previousCookies);\n        }\n        else if (typeof previousCookies === 'string') {\n            strCookies.push(previousCookies);\n        }\n    }\n    return strCookies;\n}\n/**\n * Set one or more cookies.\n */\nexport function setCookies(req, res, cookies) {\n    res.setHeader('Set-Cookie', getCookieString(req, res, cookies));\n}\n/**\n * Set one or more cookies.\n */\nexport function setCookie(req, res, cookie) {\n    setCookies(req, res, [cookie]);\n}\nexport function deleteCookie(req, res, name) {\n    setCookie(req, res, {\n        name,\n        value: '',\n        maxAge: -1,\n    });\n}\n//# sourceMappingURL=cookies.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function expiresAt(expiresIn) {\n    const timeNow = Math.round(Date.now() / 1000);\n    return timeNow + expiresIn;\n}\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport const isBrowser = () => typeof window !== 'undefined';\nexport function getParameterByName(name, url) {\n    var _a;\n    if (!url)\n        url = ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href) || '';\n    // eslint-disable-next-line no-useless-escape\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'), results = regex.exec(url);\n    if (!results)\n        return null;\n    if (!results[2])\n        return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n// LocalStorage helpers\nexport const setItemAsync = (storage, key, data) => __awaiter(void 0, void 0, void 0, function* () {\n    isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.setItem(key, JSON.stringify(data))));\n});\nexport const getItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    const value = isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.getItem(key)));\n    if (!value)\n        return null;\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n});\nexport const getItemSynchronously = (storage, key) => {\n    const value = isBrowser() && (storage === null || storage === void 0 ? void 0 : storage.getItem(key));\n    if (!value || typeof value !== 'string') {\n        return null;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nexport const removeItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    isBrowser() && (yield (storage === null || storage === void 0 ? void 0 : storage.removeItem(key)));\n});\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, put, remove } from './lib/fetch';\nimport { COOKIE_OPTIONS } from './lib/constants';\nimport { setCookies, getCookieString } from './lib/cookies';\nimport { expiresAt, resolveFetch } from './lib/helpers';\nexport default class GoTrueApi {\n    constructor({ url = '', headers = {}, cookieOptions, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.cookieOptions = Object.assign(Object.assign({}, COOKIE_OPTIONS), cookieOptions);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Create a temporary object with all configured headers and\n     * adds the Authorization token to be used on request methods\n     * @param jwt A valid, logged-in JWT.\n     */\n    _createRequestHeaders(jwt) {\n        const headers = Object.assign({}, this.headers);\n        headers['Authorization'] = `Bearer ${jwt}`;\n        return headers;\n    }\n    cookieName() {\n        var _a;\n        return (_a = this.cookieOptions.name) !== null && _a !== void 0 ? _a : '';\n    }\n    /**\n     * Generates the relevant login URL for a third-party provider.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    getUrlForProvider(provider, options) {\n        const urlParams = [`provider=${encodeURIComponent(provider)}`];\n        if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n            urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.scopes) {\n            urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.queryParams) {\n            const query = new URLSearchParams(options.queryParams);\n            urlParams.push(`${query}`);\n        }\n        return `${this.url}/authorize?${urlParams.join('&')}`;\n    }\n    /**\n     * Creates a new user using their email address.\n     * @param email The email address of the user.\n     * @param password The password of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata.\n     *\n     * @returns A logged-in session if the server has \"autoconfirm\" ON\n     * @returns A user if the server has \"autoconfirm\" OFF\n     */\n    signUpWithEmail(email, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString = '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/signup${queryString}`, {\n                    email,\n                    password,\n                    data: options.data,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an existing user using their email address.\n     * @param email The email address of the user.\n     * @param password The password of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    signInWithEmail(email, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '?grant_type=password';\n                if (options.redirectTo) {\n                    queryString += '&redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { email, password }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Signs up a new user using their phone number and a password.\n     * @param phone The phone number of the user.\n     * @param password The password of the user.\n     * @param data Optional user metadata.\n     */\n    signUpWithPhone(phone, password, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/signup`, {\n                    phone,\n                    password,\n                    data: options.data,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an existing user using their phone number and password.\n     * @param phone The phone number of the user.\n     * @param password The password of the user.\n     */\n    signInWithPhone(phone, password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const queryString = '?grant_type=password';\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { phone, password }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Logs in an OpenID Connect user using their id_token.\n     * @param id_token The IDToken of the user.\n     * @param nonce The nonce of the user. The nonce is a random value generated by the developer (= yourself) before the initial grant is started. You should check the OpenID Connect specification for details. https://openid.net/developers/specs/\n     * @param provider The provider of the user.\n     * @param client_id The clientID of the user.\n     * @param issuer The issuer of the user.\n     */\n    signInWithOpenIDConnect({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const queryString = '?grant_type=id_token';\n                const data = yield post(this.fetch, `${this.url}/token${queryString}`, { id_token, nonce, client_id, issuer, provider }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a magic login link to an email address.\n     * @param email The email address of the user.\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    sendMagicLinkEmail(email, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n                const data = yield post(this.fetch, `${this.url}/otp${queryString}`, {\n                    email,\n                    create_user: shouldCreateUser,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a mobile OTP via SMS. Will register the account if it doesn't already exist\n     * @param phone The user's phone number WITH international prefix\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     */\n    sendMobileOTP(phone, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const shouldCreateUser = (_a = options.shouldCreateUser) !== null && _a !== void 0 ? _a : true;\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/otp`, {\n                    phone,\n                    create_user: shouldCreateUser,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Removes a logged-in session.\n     * @param jwt A valid, logged-in JWT.\n     */\n    signOut(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield post(this.fetch, `${this.url}/logout`, {}, { headers: this._createRequestHeaders(jwt), noResolveJson: true });\n                return { error: null };\n            }\n            catch (e) {\n                return { error: e };\n            }\n        });\n    }\n    /**\n     * @deprecated Use `verifyOTP` instead!\n     * @param phone The user's phone number WITH international prefix\n     * @param token token that user was sent to their mobile phone\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyMobileOTP(phone, token, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/verify`, { phone, token, type: 'sms', redirect_to: options.redirectTo }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Send User supplied Email / Mobile OTP to be verified\n     * @param email The user's email address\n     * @param phone The user's phone number WITH international prefix\n     * @param token token that user was sent to their mobile phone\n     * @param type verification type that the otp is generated for\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP({ email, phone, token, type = 'sms' }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                const data = yield post(this.fetch, `${this.url}/verify`, { email, phone, token, type, redirect_to: options.redirectTo }, { headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends an invite link to an email address.\n     * @param email The email address of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param data Optional user metadata\n     */\n    inviteUserByEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/invite${queryString}`, { email, data: options.data }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sends a reset request to an email address.\n     * @param email The email address of the user.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    resetPasswordForEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const headers = Object.assign({}, this.headers);\n                let queryString = '';\n                if (options.redirectTo) {\n                    queryString += '?redirect_to=' + encodeURIComponent(options.redirectTo);\n                }\n                const data = yield post(this.fetch, `${this.url}/recover${queryString}`, { email, gotrue_meta_security: { captcha_token: options.captchaToken } }, { headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Generates a new JWT.\n     * @param refreshToken A valid refresh token that was returned on login.\n     */\n    refreshAccessToken(refreshToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/token?grant_type=refresh_token`, { refresh_token: refreshToken }, { headers: this.headers });\n                const session = Object.assign({}, data);\n                if (session.expires_in)\n                    session.expires_at = expiresAt(data.expires_in);\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Set/delete the auth cookie based on the AuthChangeEvent.\n     * Works for Next.js & Express (requires cookie-parser middleware).\n     * @param req The request object.\n     * @param res The response object.\n     */\n    setAuthCookie(req, res) {\n        if (req.method !== 'POST') {\n            res.setHeader('Allow', 'POST');\n            res.status(405).end('Method Not Allowed');\n        }\n        const { event, session } = req.body;\n        if (!event)\n            throw new Error('Auth event missing!');\n        if (event === 'SIGNED_IN') {\n            if (!session)\n                throw new Error('Auth session missing!');\n            setCookies(req, res, [\n                { key: 'access-token', value: session.access_token },\n                { key: 'refresh-token', value: session.refresh_token },\n            ].map((token) => {\n                var _a;\n                return ({\n                    name: `${this.cookieName()}-${token.key}`,\n                    value: token.value,\n                    domain: this.cookieOptions.domain,\n                    maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                    path: this.cookieOptions.path,\n                    sameSite: this.cookieOptions.sameSite,\n                });\n            }));\n        }\n        if (event === 'SIGNED_OUT') {\n            setCookies(req, res, ['access-token', 'refresh-token'].map((key) => ({\n                name: `${this.cookieName()}-${key}`,\n                value: '',\n                maxAge: -1,\n            })));\n        }\n        res.status(200).json({});\n    }\n    /**\n     * Deletes the Auth Cookies and redirects to the\n     * @param req The request object.\n     * @param res The response object.\n     * @param options Optionally specify a `redirectTo` URL in the options.\n     */\n    deleteAuthCookie(req, res, { redirectTo = '/' }) {\n        setCookies(req, res, ['access-token', 'refresh-token'].map((key) => ({\n            name: `${this.cookieName()}-${key}`,\n            value: '',\n            maxAge: -1,\n        })));\n        return res.redirect(307, redirectTo);\n    }\n    /**\n     * Helper method to generate the Auth Cookie string for you in case you can't use `setAuthCookie`.\n     * @param req The request object.\n     * @param res The response object.\n     * @returns The Cookie string that needs to be set as the value for the `Set-Cookie` header.\n     */\n    getAuthCookieString(req, res) {\n        if (req.method !== 'POST') {\n            res.setHeader('Allow', 'POST');\n            res.status(405).end('Method Not Allowed');\n        }\n        const { event, session } = req.body;\n        if (!event)\n            throw new Error('Auth event missing!');\n        if (event === 'SIGNED_IN') {\n            if (!session)\n                throw new Error('Auth session missing!');\n            return getCookieString(req, res, [\n                { key: 'access-token', value: session.access_token },\n                { key: 'refresh-token', value: session.refresh_token },\n            ].map((token) => {\n                var _a;\n                return ({\n                    name: `${this.cookieName()}-${token.key}`,\n                    value: token.value,\n                    domain: this.cookieOptions.domain,\n                    maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                    path: this.cookieOptions.path,\n                    sameSite: this.cookieOptions.sameSite,\n                });\n            }));\n        }\n        if (event === 'SIGNED_OUT') {\n            return getCookieString(req, res, ['access-token', 'refresh-token'].map((key) => ({\n                name: `${this.cookieName()}-${key}`,\n                value: '',\n                maxAge: -1,\n            })));\n        }\n        return res.getHeader('Set-Cookie');\n    }\n    /**\n     * Generates links to be sent via email or other.\n     * @param type The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n     * @param email The user's email.\n     * @param password User password. For signup only.\n     * @param data Optional user metadata. For signup only.\n     * @param redirectTo The link type (\"signup\" or \"magiclink\" or \"recovery\" or \"invite\").\n     */\n    generateLink(type, email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/admin/generate_link`, {\n                    type,\n                    email,\n                    password: options.password,\n                    data: options.data,\n                    redirect_to: options.redirectTo,\n                }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    // User Admin API\n    /**\n     * Creates a new user.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     *\n     * @param attributes The data you want to create the user with.\n     */\n    createUser(attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/admin/users`, attributes, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get a list of users.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    listUsers() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/admin/users`, {\n                    headers: this.headers,\n                });\n                return { data: data.users, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get user by id.\n     *\n     * @param uid The user's unique identifier\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    getUserById(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/admin/users/${uid}`, {\n                    headers: this.headers,\n                });\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Get user by reading the cookie from the request.\n     * Works for Next.js & Express (requires cookie-parser middleware).\n     */\n    getUserByCookie(req, res) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!req.cookies) {\n                    throw new Error('Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!');\n                }\n                const access_token = req.cookies[`${this.cookieName()}-access-token`];\n                const refresh_token = req.cookies[`${this.cookieName()}-refresh-token`];\n                if (!access_token) {\n                    throw new Error('No cookie found!');\n                }\n                const { user, error: getUserError } = yield this.getUser(access_token);\n                if (getUserError) {\n                    if (!refresh_token)\n                        throw new Error('No refresh_token cookie found!');\n                    if (!res)\n                        throw new Error('You need to pass the res object to automatically refresh the session!');\n                    const { data, error } = yield this.refreshAccessToken(refresh_token);\n                    if (error) {\n                        throw error;\n                    }\n                    else if (data) {\n                        setCookies(req, res, [\n                            { key: 'access-token', value: data.access_token },\n                            { key: 'refresh-token', value: data.refresh_token },\n                        ].map((token) => {\n                            var _a;\n                            return ({\n                                name: `${this.cookieName()}-${token.key}`,\n                                value: token.value,\n                                domain: this.cookieOptions.domain,\n                                maxAge: (_a = this.cookieOptions.lifetime) !== null && _a !== void 0 ? _a : 0,\n                                path: this.cookieOptions.path,\n                                sameSite: this.cookieOptions.sameSite,\n                            });\n                        }));\n                        return { token: data.access_token, user: data.user, data: data.user, error: null };\n                    }\n                }\n                return { token: access_token, user: user, data: user, error: null };\n            }\n            catch (e) {\n                return { token: null, user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     *\n     * @param attributes The data you want to update.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    updateUserById(uid, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this; //\n                const data = yield put(this.fetch, `${this.url}/admin/users/${uid}`, attributes, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Delete a user. Requires a `service_role` key.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     *\n     * @param uid The user uid you want to remove.\n     */\n    deleteUser(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/admin/users/${uid}`, {}, {\n                    headers: this.headers,\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Gets the current user details.\n     *\n     * This method is called by the GoTrueClient `update` where\n     * the jwt is set to this.currentSession.access_token\n     * and therefore, acts like getting the currently authenticated user\n     *\n     * @param jwt A valid, logged-in JWT. Typically, the access_token for the currentSession\n     */\n    getUser(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/user`, {\n                    headers: this._createRequestHeaders(jwt),\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     * @param jwt A valid, logged-in JWT.\n     * @param attributes The data you want to update.\n     */\n    updateUser(jwt, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/user`, attributes, {\n                    headers: this._createRequestHeaders(jwt),\n                });\n                return { user: data, data, error: null };\n            }\n            catch (e) {\n                return { user: null, data: null, error: e };\n            }\n        });\n    }\n}\n//# sourceMappingURL=GoTrueApi.js.map","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n    if (typeof globalThis === 'object')\n        return;\n    try {\n        Object.defineProperty(Object.prototype, '__magic__', {\n            get: function () {\n                return this;\n            },\n            configurable: true,\n        });\n        // @ts-expect-error 'Allow access to magic'\n        __magic__.globalThis = __magic__;\n        // @ts-expect-error 'Allow access to magic'\n        delete Object.prototype.__magic__;\n    }\n    catch (e) {\n        if (typeof self !== 'undefined') {\n            // @ts-expect-error 'Allow access to globals'\n            self.globalThis = self;\n        }\n    }\n}\n//# sourceMappingURL=polyfills.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport GoTrueApi from './GoTrueApi';\nimport { isBrowser, getParameterByName, uuid, setItemAsync, removeItemAsync, getItemSynchronously, getItemAsync, } from './lib/helpers';\nimport { GOTRUE_URL, DEFAULT_HEADERS, STORAGE_KEY, EXPIRY_MARGIN, NETWORK_FAILURE, } from './lib/constants';\nimport { polyfillGlobalThis } from './lib/polyfills';\npolyfillGlobalThis(); // Make \"globalThis\" available\nconst DEFAULT_OPTIONS = {\n    url: GOTRUE_URL,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: DEFAULT_HEADERS,\n};\nexport default class GoTrueClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param options.url The URL of the GoTrue server.\n     * @param options.headers Any additional headers to send to the GoTrue server.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.localStorage Provide your own local storage implementation to use instead of the browser's local storage.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.cookieOptions\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(options) {\n        this.stateChangeEmitters = new Map();\n        this.networkRetries = 0;\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.currentUser = null;\n        this.currentSession = null;\n        this.autoRefreshToken = settings.autoRefreshToken;\n        this.persistSession = settings.persistSession;\n        this.multiTab = settings.multiTab;\n        this.localStorage = settings.localStorage || globalThis.localStorage;\n        this.api = new GoTrueApi({\n            url: settings.url,\n            headers: settings.headers,\n            cookieOptions: settings.cookieOptions,\n            fetch: settings.fetch,\n        });\n        this._recoverSession();\n        this._recoverAndRefresh();\n        this._listenForMultiTabEvents();\n        this._handleVisibilityChange();\n        if (settings.detectSessionInUrl && isBrowser() && !!getParameterByName('access_token')) {\n            // Handle the OAuth redirect\n            this.getSessionFromUrl({ storeSession: true }).then(({ error }) => {\n                if (error) {\n                    throw new Error('Error getting session from URL.');\n                }\n            });\n        }\n    }\n    /**\n     * Creates a new user.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param password The user's password.\n     * @param phone The user's phone number.\n     * @param redirectTo The redirect URL attached to the signup confirmation link. Does not redirect the user if it's a mobile signup.\n     * @param data Optional user metadata.\n     */\n    signUp({ email, password, phone }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = phone && password\n                    ? yield this.api.signUpWithPhone(phone, password, {\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    })\n                    : yield this.api.signUpWithEmail(email, password, {\n                        redirectTo: options.redirectTo,\n                        data: options.data,\n                        captchaToken: options.captchaToken,\n                    });\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on sign up.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in an existing user, or login via a third-party provider.\n     * @type UserCredentials\n     * @param email The user's email address.\n     * @param phone The user's phone number.\n     * @param password The user's password.\n     * @param refreshToken A valid refresh token that was returned on login.\n     * @param provider One of the providers supported by GoTrue.\n     * @param redirectTo A URL to send the user to after they are confirmed (OAuth logins only).\n     * @param shouldCreateUser A boolean flag to indicate whether to automatically create a user on magiclink / otp sign-ins if the user doesn't exist. Defaults to true.\n     * @param scopes A space-separated list of scopes granted to the OAuth application.\n     */\n    signIn({ email, phone, password, refreshToken, provider, oidc }, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                if (email && !password) {\n                    const { error } = yield this.api.sendMagicLinkEmail(email, {\n                        redirectTo: options.redirectTo,\n                        shouldCreateUser: options.shouldCreateUser,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (email && password) {\n                    return this._handleEmailSignIn(email, password, {\n                        redirectTo: options.redirectTo,\n                    });\n                }\n                if (phone && !password) {\n                    const { error } = yield this.api.sendMobileOTP(phone, {\n                        shouldCreateUser: options.shouldCreateUser,\n                        captchaToken: options.captchaToken,\n                    });\n                    return { user: null, session: null, error };\n                }\n                if (phone && password) {\n                    return this._handlePhoneSignIn(phone, password);\n                }\n                if (refreshToken) {\n                    // currentSession and currentUser will be updated to latest on _callRefreshToken using the passed refreshToken\n                    const { error } = yield this._callRefreshToken(refreshToken);\n                    if (error)\n                        throw error;\n                    return {\n                        user: this.currentUser,\n                        session: this.currentSession,\n                        error: null,\n                    };\n                }\n                if (provider) {\n                    return this._handleProviderSignIn(provider, {\n                        redirectTo: options.redirectTo,\n                        scopes: options.scopes,\n                        queryParams: options.queryParams,\n                    });\n                }\n                if (oidc) {\n                    return this._handleOpenIDConnectSignIn(oidc);\n                }\n                throw new Error(`You must provide either an email, phone number, a third-party provider or OpenID Connect.`);\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Log in a user given a User supplied OTP received via mobile.\n     * @param email The user's email address.\n     * @param phone The user's phone number.\n     * @param token The user's password.\n     * @param type The user's verification type.\n     * @param redirectTo A URL or mobile address to send the user to after they are confirmed.\n     */\n    verifyOTP(params, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this._removeSession();\n                const { data, error } = yield this.api.verifyOTP(params, options);\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on token verification.';\n                }\n                let session = null;\n                let user = null;\n                if (data.access_token) {\n                    session = data;\n                    user = session.user;\n                    this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                if (data.id) {\n                    user = data;\n                }\n                return { user, session, error: null };\n            }\n            catch (e) {\n                return { user: null, session: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `user()` will return the user data, if there is a logged in user.\n     *\n     * For server-side management, you can get a user through `auth.api.getUserByCookie()`\n     */\n    user() {\n        return this.currentUser;\n    }\n    /**\n     * Returns the session data, if there is an active session.\n     */\n    session() {\n        return this.currentSession;\n    }\n    /**\n     * Force refreshes the session including the user data in case it was updated in a different session.\n     */\n    refreshSession() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                // currentSession and currentUser will be updated to latest on _callRefreshToken\n                const { error } = yield this._callRefreshToken();\n                if (error)\n                    throw error;\n                return { data: this.currentSession, user: this.currentUser, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Updates user data, if there is a logged in user.\n     */\n    update(attributes) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!((_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token))\n                    throw new Error('Not logged in.');\n                const { user, error } = yield this.api.updateUser(this.currentSession.access_token, attributes);\n                if (error)\n                    throw error;\n                if (!user)\n                    throw Error('Invalid user data.');\n                const session = Object.assign(Object.assign({}, this.currentSession), { user });\n                this._saveSession(session);\n                this._notifyAllSubscribers('USER_UPDATED');\n                return { data: user, user, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, error: e };\n            }\n        });\n    }\n    /**\n     * Sets the session data from refresh_token and returns current Session and Error\n     * @param refresh_token a JWT token\n     */\n    setSession(refresh_token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error) {\n                    return { session: null, error: error };\n                }\n                this._saveSession(data);\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { session: data, error: null };\n            }\n            catch (e) {\n                return { error: e, session: null };\n            }\n        });\n    }\n    /**\n     * Overrides the JWT on the current client. The JWT will then be sent in all subsequent network requests.\n     * @param access_token a jwt access token\n     */\n    setAuth(access_token) {\n        this.currentSession = Object.assign(Object.assign({}, this.currentSession), { access_token, token_type: 'bearer', user: this.user() });\n        this._notifyAllSubscribers('TOKEN_REFRESHED');\n        return this.currentSession;\n    }\n    /**\n     * Gets the session data from a URL string\n     * @param options.storeSession Optionally store the session in the browser\n     */\n    getSessionFromUrl(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!isBrowser())\n                    throw new Error('No browser detected.');\n                const error_description = getParameterByName('error_description');\n                if (error_description)\n                    throw new Error(error_description);\n                const provider_token = getParameterByName('provider_token');\n                const access_token = getParameterByName('access_token');\n                if (!access_token)\n                    throw new Error('No access_token detected.');\n                const expires_in = getParameterByName('expires_in');\n                if (!expires_in)\n                    throw new Error('No expires_in detected.');\n                const refresh_token = getParameterByName('refresh_token');\n                if (!refresh_token)\n                    throw new Error('No refresh_token detected.');\n                const token_type = getParameterByName('token_type');\n                if (!token_type)\n                    throw new Error('No token_type detected.');\n                const timeNow = Math.round(Date.now() / 1000);\n                const expires_at = timeNow + parseInt(expires_in);\n                const { user, error } = yield this.api.getUser(access_token);\n                if (error)\n                    throw error;\n                const session = {\n                    provider_token,\n                    access_token,\n                    expires_in: parseInt(expires_in),\n                    expires_at,\n                    refresh_token,\n                    token_type,\n                    user: user,\n                };\n                if (options === null || options === void 0 ? void 0 : options.storeSession) {\n                    this._saveSession(session);\n                    const recoveryMode = getParameterByName('type');\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    if (recoveryMode === 'recovery') {\n                        this._notifyAllSubscribers('PASSWORD_RECOVERY');\n                    }\n                }\n                // Remove tokens from URL\n                window.location.hash = '';\n                return { data: session, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    /**\n     * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n     * and log them out - removing all items from localstorage and then trigger a \"SIGNED_OUT\" event.\n     *\n     * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`. There is no way to revoke a user's session JWT before it automatically expires\n     */\n    signOut() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const accessToken = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.access_token;\n            this._removeSession();\n            this._notifyAllSubscribers('SIGNED_OUT');\n            if (accessToken) {\n                const { error } = yield this.api.signOut(accessToken);\n                if (error)\n                    return { error };\n            }\n            return { error: null };\n        });\n    }\n    /**\n     * Receive a notification every time an auth event happens.\n     * @returns {Subscription} A subscription object which can be used to unsubscribe itself.\n     */\n    onAuthStateChange(callback) {\n        try {\n            const id = uuid();\n            const subscription = {\n                id,\n                callback,\n                unsubscribe: () => {\n                    this.stateChangeEmitters.delete(id);\n                },\n            };\n            this.stateChangeEmitters.set(id, subscription);\n            return { data: subscription, error: null };\n        }\n        catch (e) {\n            return { data: null, error: e };\n        }\n    }\n    _handleEmailSignIn(email, password, options = {}) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithEmail(email, password, {\n                    redirectTo: options.redirectTo,\n                });\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if (((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.confirmed_at) || ((_b = data === null || data === void 0 ? void 0 : data.user) === null || _b === void 0 ? void 0 : _b.email_confirmed_at)) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handlePhoneSignIn(phone, password) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield this.api.signInWithPhone(phone, password);\n                if (error || !data)\n                    return { data: null, user: null, session: null, error };\n                if ((_a = data === null || data === void 0 ? void 0 : data.user) === null || _a === void 0 ? void 0 : _a.phone_confirmed_at) {\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n                return { data, user: data.user, session: data, error: null };\n            }\n            catch (e) {\n                return { data: null, user: null, session: null, error: e };\n            }\n        });\n    }\n    _handleProviderSignIn(provider, options = {}) {\n        const url = this.api.getUrlForProvider(provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n            queryParams: options.queryParams,\n        });\n        try {\n            // try to open on the browser\n            if (isBrowser()) {\n                window.location.href = url;\n            }\n            return { provider, url, data: null, session: null, user: null, error: null };\n        }\n        catch (e) {\n            // fallback to returning the URL\n            if (url)\n                return { provider, url, data: null, session: null, user: null, error: null };\n            return { data: null, user: null, session: null, error: e };\n        }\n    }\n    _handleOpenIDConnectSignIn({ id_token, nonce, client_id, issuer, provider, }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (id_token && nonce && ((client_id && issuer) || provider)) {\n                try {\n                    const { data, error } = yield this.api.signInWithOpenIDConnect({\n                        id_token,\n                        nonce,\n                        client_id,\n                        issuer,\n                        provider,\n                    });\n                    if (error || !data)\n                        return { user: null, session: null, error };\n                    this._saveSession(data);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                    return { user: data.user, session: data, error: null };\n                }\n                catch (e) {\n                    return { user: null, session: null, error: e };\n                }\n            }\n            throw new Error(`You must provide a OpenID Connect provider with your id token and nonce.`);\n        });\n    }\n    /**\n     * Attempts to get the session from LocalStorage\n     * Note: this should never be async (even for React Native), as we need it to return immediately in the constructor.\n     */\n    _recoverSession() {\n        try {\n            const data = getItemSynchronously(this.localStorage, STORAGE_KEY);\n            if (!data)\n                return null;\n            const { currentSession, expiresAt } = data;\n            const timeNow = Math.round(Date.now() / 1000);\n            if (expiresAt >= timeNow + EXPIRY_MARGIN && (currentSession === null || currentSession === void 0 ? void 0 : currentSession.user)) {\n                this._saveSession(currentSession);\n                this._notifyAllSubscribers('SIGNED_IN');\n            }\n        }\n        catch (error) {\n            console.log('error', error);\n        }\n    }\n    /**\n     * Recovers the session from LocalStorage and refreshes\n     * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n     */\n    _recoverAndRefresh() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield getItemAsync(this.localStorage, STORAGE_KEY);\n                if (!data)\n                    return null;\n                const { currentSession, expiresAt } = data;\n                const timeNow = Math.round(Date.now() / 1000);\n                if (expiresAt < timeNow + EXPIRY_MARGIN) {\n                    if (this.autoRefreshToken && currentSession.refresh_token) {\n                        this.networkRetries++;\n                        const { error } = yield this._callRefreshToken(currentSession.refresh_token);\n                        if (error) {\n                            console.log(error.message);\n                            if (error.message === NETWORK_FAILURE.ERROR_MESSAGE &&\n                                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES) {\n                                if (this.refreshTokenTimer)\n                                    clearTimeout(this.refreshTokenTimer);\n                                this.refreshTokenTimer = setTimeout(() => this._recoverAndRefresh(), Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100 // exponential backoff\n                                );\n                                return;\n                            }\n                            yield this._removeSession();\n                        }\n                        this.networkRetries = 0;\n                    }\n                    else {\n                        this._removeSession();\n                    }\n                }\n                else if (!currentSession) {\n                    console.log('Current session is missing data.');\n                    this._removeSession();\n                }\n                else {\n                    // should be handled on _recoverSession method already\n                    // But we still need the code here to accommodate for AsyncStorage e.g. in React native\n                    this._saveSession(currentSession);\n                    this._notifyAllSubscribers('SIGNED_IN');\n                }\n            }\n            catch (err) {\n                console.error(err);\n                return null;\n            }\n        });\n    }\n    _callRefreshToken(refresh_token) {\n        var _a;\n        if (refresh_token === void 0) { refresh_token = (_a = this.currentSession) === null || _a === void 0 ? void 0 : _a.refresh_token; }\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!refresh_token) {\n                    throw new Error('No current session.');\n                }\n                const { data, error } = yield this.api.refreshAccessToken(refresh_token);\n                if (error)\n                    throw error;\n                if (!data)\n                    throw Error('Invalid session data.');\n                this._saveSession(data);\n                this._notifyAllSubscribers('TOKEN_REFRESHED');\n                this._notifyAllSubscribers('SIGNED_IN');\n                return { data, error: null };\n            }\n            catch (e) {\n                return { data: null, error: e };\n            }\n        });\n    }\n    _notifyAllSubscribers(event) {\n        this.stateChangeEmitters.forEach((x) => x.callback(event, this.currentSession));\n    }\n    /**\n     * set currentSession and currentUser\n     * process to _startAutoRefreshToken if possible\n     */\n    _saveSession(session) {\n        this.currentSession = session;\n        this.currentUser = session.user;\n        const expiresAt = session.expires_at;\n        if (expiresAt) {\n            const timeNow = Math.round(Date.now() / 1000);\n            const expiresIn = expiresAt - timeNow;\n            const refreshDurationBeforeExpires = expiresIn > EXPIRY_MARGIN ? EXPIRY_MARGIN : 0.5;\n            this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000);\n        }\n        // Do we need any extra check before persist session\n        // access_token or user ?\n        if (this.persistSession && session.expires_at) {\n            this._persistSession(this.currentSession);\n        }\n    }\n    _persistSession(currentSession) {\n        const data = { currentSession, expiresAt: currentSession.expires_at };\n        setItemAsync(this.localStorage, STORAGE_KEY, data);\n    }\n    _removeSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.currentSession = null;\n            this.currentUser = null;\n            if (this.refreshTokenTimer)\n                clearTimeout(this.refreshTokenTimer);\n            removeItemAsync(this.localStorage, STORAGE_KEY);\n        });\n    }\n    /**\n     * Clear and re-create refresh token timer\n     * @param value time intervals in milliseconds\n     */\n    _startAutoRefreshToken(value) {\n        if (this.refreshTokenTimer)\n            clearTimeout(this.refreshTokenTimer);\n        if (value <= 0 || !this.autoRefreshToken)\n            return;\n        this.refreshTokenTimer = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n            this.networkRetries++;\n            const { error } = yield this._callRefreshToken();\n            if (!error)\n                this.networkRetries = 0;\n            if ((error === null || error === void 0 ? void 0 : error.message) === NETWORK_FAILURE.ERROR_MESSAGE &&\n                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES)\n                this._startAutoRefreshToken(Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100); // exponential backoff\n        }), value);\n        if (typeof this.refreshTokenTimer.unref === 'function')\n            this.refreshTokenTimer.unref();\n    }\n    /**\n     * Listens for changes to LocalStorage and updates the current session.\n     */\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a;\n                if (e.key === STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    if ((_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) {\n                        this._saveSession(newSession.currentSession);\n                        this._notifyAllSubscribers('SIGNED_IN');\n                    }\n                    else {\n                        this._removeSession();\n                        this._notifyAllSubscribers('SIGNED_OUT');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n        }\n    }\n    _handleVisibilityChange() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('visibilitychange', () => {\n                if (document.visibilityState === 'visible') {\n                    this._recoverAndRefresh();\n                }\n            });\n        }\n        catch (error) {\n            console.error('_handleVisibilityChange', error);\n        }\n    }\n}\n//# sourceMappingURL=GoTrueClient.js.map","import { GoTrueClient } from '@supabase/gotrue-js';\nexport class SupabaseAuthClient extends GoTrueClient {\n    constructor(options) {\n        super(options);\n    }\n}\n//# sourceMappingURL=SupabaseAuthClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class PostgrestBuilder {\n    constructor(builder) {\n        Object.assign(this, builder);\n        let _fetch;\n        if (builder.fetch) {\n            _fetch = builder.fetch;\n        }\n        else if (typeof fetch === 'undefined') {\n            _fetch = (...args) => __awaiter(this, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n        }\n        else {\n            _fetch = fetch;\n        }\n        this.fetch = (...args) => _fetch(...args);\n        this.shouldThrowOnError = builder.shouldThrowOnError || false;\n        this.allowEmpty = builder.allowEmpty || false;\n    }\n    /**\n     * If there's an error with the query, throwOnError will reject the promise by\n     * throwing the error instead of returning it as part of a successful response.\n     *\n     * {@link https://github.com/supabase/supabase-js/issues/92}\n     */\n    throwOnError(throwOnError) {\n        if (throwOnError === null || throwOnError === undefined) {\n            throwOnError = true;\n        }\n        this.shouldThrowOnError = throwOnError;\n        return this;\n    }\n    then(onfulfilled, onrejected) {\n        // https://postgrest.org/en/stable/api.html#switching-schemas\n        if (typeof this.schema === 'undefined') {\n            // skip\n        }\n        else if (['GET', 'HEAD'].includes(this.method)) {\n            this.headers['Accept-Profile'] = this.schema;\n        }\n        else {\n            this.headers['Content-Profile'] = this.schema;\n        }\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.headers['Content-Type'] = 'application/json';\n        }\n        let res = this.fetch(this.url.toString(), {\n            method: this.method,\n            headers: this.headers,\n            body: JSON.stringify(this.body),\n            signal: this.signal,\n        }).then((res) => __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            let error = null;\n            let data = null;\n            let count = null;\n            let status = res.status;\n            let statusText = res.statusText;\n            if (res.ok) {\n                const isReturnMinimal = (_a = this.headers['Prefer']) === null || _a === void 0 ? void 0 : _a.split(',').includes('return=minimal');\n                if (this.method !== 'HEAD' && !isReturnMinimal) {\n                    const text = yield res.text();\n                    if (!text) {\n                        // discard `text`\n                    }\n                    else if (this.headers['Accept'] === 'text/csv') {\n                        data = text;\n                    }\n                    else {\n                        data = JSON.parse(text);\n                    }\n                }\n                const countHeader = (_b = this.headers['Prefer']) === null || _b === void 0 ? void 0 : _b.match(/count=(exact|planned|estimated)/);\n                const contentRange = (_c = res.headers.get('content-range')) === null || _c === void 0 ? void 0 : _c.split('/');\n                if (countHeader && contentRange && contentRange.length > 1) {\n                    count = parseInt(contentRange[1]);\n                }\n            }\n            else {\n                const body = yield res.text();\n                try {\n                    error = JSON.parse(body);\n                }\n                catch (_e) {\n                    error = {\n                        message: body,\n                    };\n                }\n                if (error && this.allowEmpty && ((_d = error === null || error === void 0 ? void 0 : error.details) === null || _d === void 0 ? void 0 : _d.includes('Results contain 0 rows'))) {\n                    error = null;\n                    status = 200;\n                    statusText = 'OK';\n                }\n                if (error && this.shouldThrowOnError) {\n                    throw error;\n                }\n            }\n            const postgrestResponse = {\n                error,\n                data,\n                count,\n                status,\n                statusText,\n                body: data,\n            };\n            return postgrestResponse;\n        }));\n        if (!this.shouldThrowOnError) {\n            res = res.catch((fetchError) => ({\n                error: {\n                    message: `FetchError: ${fetchError.message}`,\n                    details: '',\n                    hint: '',\n                    code: fetchError.code || '',\n                },\n                data: null,\n                body: null,\n                count: null,\n                status: 400,\n                statusText: 'Bad Request',\n            }));\n        }\n        return res.then(onfulfilled, onrejected);\n    }\n}\n//# sourceMappingURL=types.js.map","import { PostgrestBuilder } from './types';\n/**\n * Post-filters (transforms)\n */\nexport default class PostgrestTransformBuilder extends PostgrestBuilder {\n    /**\n     * Performs vertical filtering with SELECT.\n     *\n     * @param columns  The columns to retrieve, separated by commas.\n     */\n    select(columns = '*') {\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = columns\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        return this;\n    }\n    /**\n     * Orders the result with the specified `column`.\n     *\n     * @param column  The column to order on.\n     * @param ascending  If `true`, the result will be in ascending order.\n     * @param nullsFirst  If `true`, `null`s appear first.\n     * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n     */\n    order(column, { ascending = true, nullsFirst = false, foreignTable, } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'order' : `${foreignTable}.order`;\n        const existingOrder = this.url.searchParams.get(key);\n        this.url.searchParams.set(key, `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}.${nullsFirst ? 'nullsfirst' : 'nullslast'}`);\n        return this;\n    }\n    /**\n     * Limits the result with the specified `count`.\n     *\n     * @param count  The maximum no. of rows to limit to.\n     * @param foreignTable  The foreign table to use (for foreign columns).\n     */\n    limit(count, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(key, `${count}`);\n        return this;\n    }\n    /**\n     * Limits the result to rows within the specified range, inclusive.\n     *\n     * @param from  The starting index from which to limit the result, inclusive.\n     * @param to  The last index to which to limit the result, inclusive.\n     * @param foreignTable  The foreign table to use (for foreign columns).\n     */\n    range(from, to, { foreignTable } = {}) {\n        const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`;\n        const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(keyOffset, `${from}`);\n        // Range is inclusive, so add 1\n        this.url.searchParams.set(keyLimit, `${to - from + 1}`);\n        return this;\n    }\n    /**\n     * Sets the AbortSignal for the fetch request.\n     */\n    abortSignal(signal) {\n        this.signal = signal;\n        return this;\n    }\n    /**\n     * Retrieves only one row from the result. Result must be one row (e.g. using\n     * `limit`), otherwise this will result in an error.\n     */\n    single() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        return this;\n    }\n    /**\n     * Retrieves at most one row from the result. Result must be at most one row\n     * (e.g. using `eq` on a UNIQUE column), otherwise this will result in an\n     * error.\n     */\n    maybeSingle() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        this.allowEmpty = true;\n        return this;\n    }\n    /**\n     * Set the response type to CSV.\n     */\n    csv() {\n        this.headers['Accept'] = 'text/csv';\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestTransformBuilder.js.map","import PostgrestTransformBuilder from './PostgrestTransformBuilder';\nexport default class PostgrestFilterBuilder extends PostgrestTransformBuilder {\n    constructor() {\n        super(...arguments);\n        /** @deprecated Use `contains()` instead. */\n        this.cs = this.contains;\n        /** @deprecated Use `containedBy()` instead. */\n        this.cd = this.containedBy;\n        /** @deprecated Use `rangeLt()` instead. */\n        this.sl = this.rangeLt;\n        /** @deprecated Use `rangeGt()` instead. */\n        this.sr = this.rangeGt;\n        /** @deprecated Use `rangeGte()` instead. */\n        this.nxl = this.rangeGte;\n        /** @deprecated Use `rangeLte()` instead. */\n        this.nxr = this.rangeLte;\n        /** @deprecated Use `rangeAdjacent()` instead. */\n        this.adj = this.rangeAdjacent;\n        /** @deprecated Use `overlaps()` instead. */\n        this.ov = this.overlaps;\n    }\n    /**\n     * Finds all rows which doesn't satisfy the filter.\n     *\n     * @param column  The column to filter on.\n     * @param operator  The operator to filter with.\n     * @param value  The value to filter with.\n     */\n    not(column, operator, value) {\n        this.url.searchParams.append(`${column}`, `not.${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows satisfying at least one of the filters.\n     *\n     * @param filters  The filters to use, separated by commas.\n     * @param foreignTable  The foreign table to use (if `column` is a foreign column).\n     */\n    or(filters, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'or' : `${foreignTable}.or`;\n        this.url.searchParams.append(key, `(${filters})`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` exactly matches the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    eq(column, value) {\n        this.url.searchParams.append(`${column}`, `eq.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` doesn't match the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    neq(column, value) {\n        this.url.searchParams.append(`${column}`, `neq.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is greater than the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    gt(column, value) {\n        this.url.searchParams.append(`${column}`, `gt.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is greater than or\n     * equal to the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    gte(column, value) {\n        this.url.searchParams.append(`${column}`, `gte.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is less than the\n     * specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    lt(column, value) {\n        this.url.searchParams.append(`${column}`, `lt.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is less than or equal\n     * to the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    lte(column, value) {\n        this.url.searchParams.append(`${column}`, `lte.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value in the stated `column` matches the supplied\n     * `pattern` (case sensitive).\n     *\n     * @param column  The column to filter on.\n     * @param pattern  The pattern to filter with.\n     */\n    like(column, pattern) {\n        this.url.searchParams.append(`${column}`, `like.${pattern}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value in the stated `column` matches the supplied\n     * `pattern` (case insensitive).\n     *\n     * @param column  The column to filter on.\n     * @param pattern  The pattern to filter with.\n     */\n    ilike(column, pattern) {\n        this.url.searchParams.append(`${column}`, `ilike.${pattern}`);\n        return this;\n    }\n    /**\n     * A check for exact equality (null, true, false), finds all rows whose\n     * value on the stated `column` exactly match the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    is(column, value) {\n        this.url.searchParams.append(`${column}`, `is.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose value on the stated `column` is found on the\n     * specified `values`.\n     *\n     * @param column  The column to filter on.\n     * @param values  The values to filter with.\n     */\n    in(column, values) {\n        const cleanedValues = values\n            .map((s) => {\n            // handle postgrest reserved characters\n            // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n            if (typeof s === 'string' && new RegExp('[,()]').test(s))\n                return `\"${s}\"`;\n            else\n                return `${s}`;\n        })\n            .join(',');\n        this.url.searchParams.append(`${column}`, `in.(${cleanedValues})`);\n        return this;\n    }\n    /**\n     * Finds all rows whose json, array, or range value on the stated `column`\n     * contains the values specified in `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    contains(column, value) {\n        if (typeof value === 'string') {\n            // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n            // keep it simple and accept a string\n            this.url.searchParams.append(`${column}`, `cs.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(`${column}`, `cs.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(`${column}`, `cs.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose json, array, or range value on the stated `column` is\n     * contained by the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    containedBy(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(`${column}`, `cd.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(`${column}`, `cd.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(`${column}`, `cd.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is strictly to the\n     * left of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeLt(column, range) {\n        this.url.searchParams.append(`${column}`, `sl.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is strictly to\n     * the right of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeGt(column, range) {\n        this.url.searchParams.append(`${column}`, `sr.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` does not extend\n     * to the left of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeGte(column, range) {\n        this.url.searchParams.append(`${column}`, `nxl.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` does not extend\n     * to the right of the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeLte(column, range) {\n        this.url.searchParams.append(`${column}`, `nxr.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose range value on the stated `column` is adjacent to\n     * the specified `range`.\n     *\n     * @param column  The column to filter on.\n     * @param range  The range to filter with.\n     */\n    rangeAdjacent(column, range) {\n        this.url.searchParams.append(`${column}`, `adj.${range}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose array or range value on the stated `column` overlaps\n     * (has a value in common) with the specified `value`.\n     *\n     * @param column  The column to filter on.\n     * @param value  The value to filter with.\n     */\n    overlaps(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(`${column}`, `ov.${value}`);\n        }\n        else {\n            // array\n            this.url.searchParams.append(`${column}`, `ov.{${value.join(',')}}`);\n        }\n        return this;\n    }\n    /**\n     * Finds all rows whose text or tsvector value on the stated `column` matches\n     * the tsquery in `query`.\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     * @param type  The type of tsquery conversion to use on `query`.\n     */\n    textSearch(column, query, { config, type = null, } = {}) {\n        let typePart = '';\n        if (type === 'plain') {\n            typePart = 'pl';\n        }\n        else if (type === 'phrase') {\n            typePart = 'ph';\n        }\n        else if (type === 'websearch') {\n            typePart = 'w';\n        }\n        const configPart = config === undefined ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `${typePart}fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * to_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` instead.\n     */\n    fts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * plainto_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'plain'` instead.\n     */\n    plfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `plfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * phraseto_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'phrase'` instead.\n     */\n    phfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `phfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose tsvector value on the stated `column` matches\n     * websearch_to_tsquery(`query`).\n     *\n     * @param column  The column to filter on.\n     * @param query  The Postgres tsquery string to filter with.\n     * @param config  The text search configuration to use.\n     *\n     * @deprecated Use `textSearch()` with `type: 'websearch'` instead.\n     */\n    wfts(column, query, { config } = {}) {\n        const configPart = typeof config === 'undefined' ? '' : `(${config})`;\n        this.url.searchParams.append(`${column}`, `wfts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose `column` satisfies the filter.\n     *\n     * @param column  The column to filter on.\n     * @param operator  The operator to filter with.\n     * @param value  The value to filter with.\n     */\n    filter(column, operator, value) {\n        this.url.searchParams.append(`${column}`, `${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Finds all rows whose columns match the specified `query` object.\n     *\n     * @param query  The object to filter with, with column names as keys mapped\n     *               to their filter values.\n     */\n    match(query) {\n        Object.keys(query).forEach((key) => {\n            this.url.searchParams.append(`${key}`, `eq.${query[key]}`);\n        });\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestFilterBuilder.js.map","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestQueryBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, shouldThrowOnError, } = {}) {\n        super({ fetch, shouldThrowOnError });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Performs vertical filtering with SELECT.\n     *\n     * @param columns  The columns to retrieve, separated by commas.\n     * @param head  When set to true, select will void data.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    select(columns = '*', { head = false, count = null, } = {}) {\n        this.method = 'GET';\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = columns\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (count) {\n            this.headers['Prefer'] = `count=${count}`;\n        }\n        if (head) {\n            this.method = 'HEAD';\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n    insert(values, { upsert = false, onConflict, returning = 'representation', count = null, } = {}) {\n        this.method = 'POST';\n        const prefersHeaders = [`return=${returning}`];\n        if (upsert)\n            prefersHeaders.push('resolution=merge-duplicates');\n        if (upsert && onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        if (Array.isArray(values)) {\n            const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n            if (columns.length > 0) {\n                const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`);\n                this.url.searchParams.set('columns', uniqueColumns.join(','));\n            }\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs an UPSERT into the table.\n     *\n     * @param values  The values to insert.\n     * @param onConflict  By specifying the `on_conflict` query parameter, you can make UPSERT work on a column(s) that has a UNIQUE constraint.\n     * @param returning  By default the new record is returned. Set this to 'minimal' if you don't need this value.\n     * @param count  Count algorithm to use to count rows in a table.\n     * @param ignoreDuplicates  Specifies if duplicate rows should be ignored and not inserted.\n     */\n    upsert(values, { onConflict, returning = 'representation', count = null, ignoreDuplicates = false, } = {}) {\n        this.method = 'POST';\n        const prefersHeaders = [\n            `resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`,\n            `return=${returning}`,\n        ];\n        if (onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs an UPDATE on the table.\n     *\n     * @param values  The values to update.\n     * @param returning  By default the updated record is returned. Set this to 'minimal' if you don't need this value.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    update(values, { returning = 'representation', count = null, } = {}) {\n        this.method = 'PATCH';\n        const prefersHeaders = [`return=${returning}`];\n        this.body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n    /**\n     * Performs a DELETE on the table.\n     *\n     * @param returning  If `true`, return the deleted row(s) in the response.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    delete({ returning = 'representation', count = null, } = {}) {\n        this.method = 'DELETE';\n        const prefersHeaders = [`return=${returning}`];\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestQueryBuilder.js.map","import { PostgrestBuilder } from './types';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestRpcBuilder extends PostgrestBuilder {\n    constructor(url, { headers = {}, schema, fetch, shouldThrowOnError, } = {}) {\n        super({ fetch, shouldThrowOnError });\n        this.url = new URL(url);\n        this.headers = Object.assign({}, headers);\n        this.schema = schema;\n    }\n    /**\n     * Perform a function call.\n     */\n    rpc(params, { head = false, count = null, } = {}) {\n        if (head) {\n            this.method = 'HEAD';\n            if (params) {\n                Object.entries(params).forEach(([name, value]) => {\n                    this.url.searchParams.append(name, value);\n                });\n            }\n        }\n        else {\n            this.method = 'POST';\n            this.body = params;\n        }\n        if (count) {\n            if (this.headers['Prefer'] !== undefined)\n                this.headers['Prefer'] += `,count=${count}`;\n            else\n                this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder(this);\n    }\n}\n//# sourceMappingURL=PostgrestRpcBuilder.js.map","// generated by genversion\nexport const version = '0.37.4';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` };\n//# sourceMappingURL=constants.js.map","import PostgrestQueryBuilder from './lib/PostgrestQueryBuilder';\nimport PostgrestRpcBuilder from './lib/PostgrestRpcBuilder';\nimport { DEFAULT_HEADERS } from './lib/constants';\nexport default class PostgrestClient {\n    /**\n     * Creates a PostgREST client.\n     *\n     * @param url  URL of the PostgREST endpoint.\n     * @param headers  Custom headers.\n     * @param schema  Postgres schema to switch to.\n     */\n    constructor(url, { headers = {}, schema, fetch, throwOnError, } = {}) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.schema = schema;\n        this.fetch = fetch;\n        this.shouldThrowOnError = throwOnError;\n    }\n    /**\n     * Authenticates the request with JWT.\n     *\n     * @param token  The JWT token to use.\n     */\n    auth(token) {\n        this.headers['Authorization'] = `Bearer ${token}`;\n        return this;\n    }\n    /**\n     * Perform a table operation.\n     *\n     * @param table  The table name to operate on.\n     */\n    from(table) {\n        const url = `${this.url}/${table}`;\n        return new PostgrestQueryBuilder(url, {\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param params  The parameters to pass to the function call.\n     * @param head  When set to true, no data will be returned.\n     * @param count  Count algorithm to use to count rows in a table.\n     */\n    rpc(fn, params, { head = false, count = null, } = {}) {\n        const url = `${this.url}/rpc/${fn}`;\n        return new PostgrestRpcBuilder(url, {\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        }).rpc(params, { head, count });\n    }\n}\n//# sourceMappingURL=PostgrestClient.js.map","/**\n * Helpers to convert the change Payload into native JS types.\n */\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\nexport var PostgresTypes;\n(function (PostgresTypes) {\n    PostgresTypes[\"abstime\"] = \"abstime\";\n    PostgresTypes[\"bool\"] = \"bool\";\n    PostgresTypes[\"date\"] = \"date\";\n    PostgresTypes[\"daterange\"] = \"daterange\";\n    PostgresTypes[\"float4\"] = \"float4\";\n    PostgresTypes[\"float8\"] = \"float8\";\n    PostgresTypes[\"int2\"] = \"int2\";\n    PostgresTypes[\"int4\"] = \"int4\";\n    PostgresTypes[\"int4range\"] = \"int4range\";\n    PostgresTypes[\"int8\"] = \"int8\";\n    PostgresTypes[\"int8range\"] = \"int8range\";\n    PostgresTypes[\"json\"] = \"json\";\n    PostgresTypes[\"jsonb\"] = \"jsonb\";\n    PostgresTypes[\"money\"] = \"money\";\n    PostgresTypes[\"numeric\"] = \"numeric\";\n    PostgresTypes[\"oid\"] = \"oid\";\n    PostgresTypes[\"reltime\"] = \"reltime\";\n    PostgresTypes[\"text\"] = \"text\";\n    PostgresTypes[\"time\"] = \"time\";\n    PostgresTypes[\"timestamp\"] = \"timestamp\";\n    PostgresTypes[\"timestamptz\"] = \"timestamptz\";\n    PostgresTypes[\"timetz\"] = \"timetz\";\n    PostgresTypes[\"tsrange\"] = \"tsrange\";\n    PostgresTypes[\"tstzrange\"] = \"tstzrange\";\n})(PostgresTypes || (PostgresTypes = {}));\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (columns, record, options = {}) => {\n    var _a;\n    const skipTypes = (_a = options.skipTypes) !== null && _a !== void 0 ? _a : [];\n    return Object.keys(record).reduce((acc, rec_key) => {\n        acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes);\n        return acc;\n    }, {});\n};\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (columnName, columns, record, skipTypes) => {\n    const column = columns.find((x) => x.name === columnName);\n    const colType = column === null || column === void 0 ? void 0 : column.type;\n    const value = record[columnName];\n    if (colType && !skipTypes.includes(colType)) {\n        return convertCell(colType, value);\n    }\n    return noop(value);\n};\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type, value) => {\n    // if data type is an array\n    if (type.charAt(0) === '_') {\n        const dataType = type.slice(1, type.length);\n        return toArray(value, dataType);\n    }\n    // If not null, convert to correct type.\n    switch (type) {\n        case PostgresTypes.bool:\n            return toBoolean(value);\n        case PostgresTypes.float4:\n        case PostgresTypes.float8:\n        case PostgresTypes.int2:\n        case PostgresTypes.int4:\n        case PostgresTypes.int8:\n        case PostgresTypes.numeric:\n        case PostgresTypes.oid:\n            return toNumber(value);\n        case PostgresTypes.json:\n        case PostgresTypes.jsonb:\n            return toJson(value);\n        case PostgresTypes.timestamp:\n            return toTimestampString(value); // Format to be consistent with PostgREST\n        case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n        case PostgresTypes.date: // To allow users to cast it based on Timezone\n        case PostgresTypes.daterange:\n        case PostgresTypes.int4range:\n        case PostgresTypes.int8range:\n        case PostgresTypes.money:\n        case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n        case PostgresTypes.text:\n        case PostgresTypes.time: // To allow users to cast it based on Timezone\n        case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n        case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n        case PostgresTypes.tsrange:\n        case PostgresTypes.tstzrange:\n            return noop(value);\n        default:\n            // Return the value for remaining types\n            return noop(value);\n    }\n};\nconst noop = (value) => {\n    return value;\n};\nexport const toBoolean = (value) => {\n    switch (value) {\n        case 't':\n            return true;\n        case 'f':\n            return false;\n        default:\n            return value;\n    }\n};\nexport const toNumber = (value) => {\n    if (typeof value === 'string') {\n        const parsedValue = parseFloat(value);\n        if (!Number.isNaN(parsedValue)) {\n            return parsedValue;\n        }\n    }\n    return value;\n};\nexport const toJson = (value) => {\n    if (typeof value === 'string') {\n        try {\n            return JSON.parse(value);\n        }\n        catch (error) {\n            console.log(`JSON parse error: ${error}`);\n            return value;\n        }\n    }\n    return value;\n};\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value, type) => {\n    if (typeof value !== 'string') {\n        return value;\n    }\n    const lastIdx = value.length - 1;\n    const closeBrace = value[lastIdx];\n    const openBrace = value[0];\n    // Confirm value is a Postgres array by checking curly brackets\n    if (openBrace === '{' && closeBrace === '}') {\n        let arr;\n        const valTrim = value.slice(1, lastIdx);\n        // TODO: find a better solution to separate Postgres array data\n        try {\n            arr = JSON.parse('[' + valTrim + ']');\n        }\n        catch (_) {\n            // WARNING: splitting on comma does not cover all edge cases\n            arr = valTrim ? valTrim.split(',') : [];\n        }\n        return arr.map((val) => convertCell(type, val));\n    }\n    return value;\n};\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(' ', 'T');\n    }\n    return value;\n};\n//# sourceMappingURL=transformers.js.map","export const version = '1.7.3';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` };\nexport const VSN = '1.0.0';\nexport const DEFAULT_TIMEOUT = 10000;\nexport const WS_CLOSE_NORMAL = 1000;\nexport var SOCKET_STATES;\n(function (SOCKET_STATES) {\n    SOCKET_STATES[SOCKET_STATES[\"connecting\"] = 0] = \"connecting\";\n    SOCKET_STATES[SOCKET_STATES[\"open\"] = 1] = \"open\";\n    SOCKET_STATES[SOCKET_STATES[\"closing\"] = 2] = \"closing\";\n    SOCKET_STATES[SOCKET_STATES[\"closed\"] = 3] = \"closed\";\n})(SOCKET_STATES || (SOCKET_STATES = {}));\nexport var CHANNEL_STATES;\n(function (CHANNEL_STATES) {\n    CHANNEL_STATES[\"closed\"] = \"closed\";\n    CHANNEL_STATES[\"errored\"] = \"errored\";\n    CHANNEL_STATES[\"joined\"] = \"joined\";\n    CHANNEL_STATES[\"joining\"] = \"joining\";\n    CHANNEL_STATES[\"leaving\"] = \"leaving\";\n})(CHANNEL_STATES || (CHANNEL_STATES = {}));\nexport var CHANNEL_EVENTS;\n(function (CHANNEL_EVENTS) {\n    CHANNEL_EVENTS[\"close\"] = \"phx_close\";\n    CHANNEL_EVENTS[\"error\"] = \"phx_error\";\n    CHANNEL_EVENTS[\"join\"] = \"phx_join\";\n    CHANNEL_EVENTS[\"reply\"] = \"phx_reply\";\n    CHANNEL_EVENTS[\"leave\"] = \"phx_leave\";\n    CHANNEL_EVENTS[\"access_token\"] = \"access_token\";\n})(CHANNEL_EVENTS || (CHANNEL_EVENTS = {}));\nexport var TRANSPORTS;\n(function (TRANSPORTS) {\n    TRANSPORTS[\"websocket\"] = \"websocket\";\n})(TRANSPORTS || (TRANSPORTS = {}));\nexport var CONNECTION_STATE;\n(function (CONNECTION_STATE) {\n    CONNECTION_STATE[\"Connecting\"] = \"connecting\";\n    CONNECTION_STATE[\"Open\"] = \"open\";\n    CONNECTION_STATE[\"Closing\"] = \"closing\";\n    CONNECTION_STATE[\"Closed\"] = \"closed\";\n})(CONNECTION_STATE || (CONNECTION_STATE = {}));\n//# sourceMappingURL=constants.js.map","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n    constructor(callback, timerCalc) {\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n        this.timer = undefined;\n        this.tries = 0;\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n    }\n    reset() {\n        this.tries = 0;\n        clearTimeout(this.timer);\n    }\n    // Cancels any previous scheduleTimeout and schedules callback\n    scheduleTimeout() {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            this.tries = this.tries + 1;\n            this.callback();\n        }, this.timerCalc(this.tries + 1));\n    }\n}\n//# sourceMappingURL=timer.js.map","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport default class Serializer {\n    constructor() {\n        this.HEADER_LENGTH = 1;\n    }\n    decode(rawPayload, callback) {\n        if (rawPayload.constructor === ArrayBuffer) {\n            return callback(this._binaryDecode(rawPayload));\n        }\n        if (typeof rawPayload === 'string') {\n            return callback(JSON.parse(rawPayload));\n        }\n        return callback({});\n    }\n    _binaryDecode(buffer) {\n        const view = new DataView(buffer);\n        const decoder = new TextDecoder();\n        return this._decodeBroadcast(buffer, view, decoder);\n    }\n    _decodeBroadcast(buffer, view, decoder) {\n        const topicSize = view.getUint8(1);\n        const eventSize = view.getUint8(2);\n        let offset = this.HEADER_LENGTH + 2;\n        const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n        offset = offset + topicSize;\n        const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n        offset = offset + eventSize;\n        const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n        return { ref: null, topic: topic, event: event, payload: data };\n    }\n}\n//# sourceMappingURL=serializer.js.map","import { DEFAULT_TIMEOUT } from '../lib/constants';\nimport RealtimeSubscription from '../RealtimeSubscription';\nexport default class Push {\n    /**\n     * Initializes the Push\n     *\n     * @param channel The Channel\n     * @param event The event, for example `\"phx_join\"`\n     * @param payload The payload, for example `{user_id: 123}`\n     * @param timeout The push timeout in milliseconds\n     */\n    constructor(channel, event, payload = {}, timeout = DEFAULT_TIMEOUT) {\n        this.channel = channel;\n        this.event = event;\n        this.payload = payload;\n        this.timeout = timeout;\n        this.sent = false;\n        this.timeoutTimer = undefined;\n        this.ref = '';\n        this.receivedResp = null;\n        this.recHooks = [];\n        this.refEvent = null;\n    }\n    resend(timeout) {\n        this.timeout = timeout;\n        this._cancelRefEvent();\n        this.ref = '';\n        this.refEvent = null;\n        this.receivedResp = null;\n        this.sent = false;\n        this.send();\n    }\n    send() {\n        if (this._hasReceived('timeout')) {\n            return;\n        }\n        this.startTimeout();\n        this.sent = true;\n        this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload,\n            ref: this.ref,\n        });\n    }\n    updatePayload(payload) {\n        this.payload = Object.assign(Object.assign({}, this.payload), payload);\n    }\n    receive(status, callback) {\n        var _a;\n        if (this._hasReceived(status)) {\n            callback((_a = this.receivedResp) === null || _a === void 0 ? void 0 : _a.response);\n        }\n        this.recHooks.push({ status, callback });\n        return this;\n    }\n    startTimeout() {\n        if (this.timeoutTimer) {\n            return;\n        }\n        this.ref = this.channel.socket.makeRef();\n        this.refEvent = this.channel.replyEventName(this.ref);\n        const callback = (payload) => {\n            this._cancelRefEvent();\n            this._cancelTimeout();\n            this.receivedResp = payload;\n            this._matchReceive(payload);\n        };\n        if (this.channel instanceof RealtimeSubscription) {\n            this.channel.on(this.refEvent, callback);\n        }\n        else {\n            this.channel.on(this.refEvent, {}, callback);\n        }\n        this.timeoutTimer = setTimeout(() => {\n            this.trigger('timeout', {});\n        }, this.timeout);\n    }\n    trigger(status, response) {\n        if (this.refEvent)\n            this.channel.trigger(this.refEvent, { status, response });\n    }\n    destroy() {\n        this._cancelRefEvent();\n        this._cancelTimeout();\n    }\n    _cancelRefEvent() {\n        if (!this.refEvent) {\n            return;\n        }\n        if (this.channel instanceof RealtimeSubscription) {\n            this.channel.off(this.refEvent);\n        }\n        else {\n            this.channel.off(this.refEvent, {});\n        }\n    }\n    _cancelTimeout() {\n        clearTimeout(this.timeoutTimer);\n        this.timeoutTimer = undefined;\n    }\n    _matchReceive({ status, response, }) {\n        this.recHooks\n            .filter((h) => h.status === status)\n            .forEach((h) => h.callback(response));\n    }\n    _hasReceived(status) {\n        return this.receivedResp && this.receivedResp.status === status;\n    }\n}\n//# sourceMappingURL=push.js.map","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nexport default class RealtimeSubscription {\n    constructor(topic, params = {}, socket) {\n        this.topic = topic;\n        this.params = params;\n        this.socket = socket;\n        this.bindings = [];\n        this.state = CHANNEL_STATES.closed;\n        this.joinedOnce = false;\n        this.pushBuffer = [];\n        this.timeout = this.socket.timeout;\n        this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n        this.rejoinTimer = new Timer(() => this.rejoinUntilConnected(), this.socket.reconnectAfterMs);\n        this.joinPush.receive('ok', () => {\n            this.state = CHANNEL_STATES.joined;\n            this.rejoinTimer.reset();\n            this.pushBuffer.forEach((pushEvent) => pushEvent.send());\n            this.pushBuffer = [];\n        });\n        this.onClose(() => {\n            this.rejoinTimer.reset();\n            this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`);\n            this.state = CHANNEL_STATES.closed;\n            this.socket.remove(this);\n        });\n        this.onError((reason) => {\n            if (this.isLeaving() || this.isClosed()) {\n                return;\n            }\n            this.socket.log('channel', `error ${this.topic}`, reason);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.joinPush.receive('timeout', () => {\n            if (!this.isJoining()) {\n                return;\n            }\n            this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.on(CHANNEL_EVENTS.reply, (payload, ref) => {\n            this.trigger(this.replyEventName(ref), payload);\n        });\n    }\n    rejoinUntilConnected() {\n        this.rejoinTimer.scheduleTimeout();\n        if (this.socket.isConnected()) {\n            this.rejoin();\n        }\n    }\n    subscribe(timeout = this.timeout) {\n        if (this.joinedOnce) {\n            throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n        }\n        else {\n            this.joinedOnce = true;\n            this.rejoin(timeout);\n            return this.joinPush;\n        }\n    }\n    onClose(callback) {\n        this.on(CHANNEL_EVENTS.close, callback);\n    }\n    onError(callback) {\n        this.on(CHANNEL_EVENTS.error, (reason) => callback(reason));\n    }\n    on(event, callback) {\n        this.bindings.push({ event, callback });\n    }\n    off(event) {\n        this.bindings = this.bindings.filter((bind) => bind.event !== event);\n    }\n    canPush() {\n        return this.socket.isConnected() && this.isJoined();\n    }\n    push(event, payload, timeout = this.timeout) {\n        if (!this.joinedOnce) {\n            throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n        }\n        let pushEvent = new Push(this, event, payload, timeout);\n        if (this.canPush()) {\n            pushEvent.send();\n        }\n        else {\n            pushEvent.startTimeout();\n            this.pushBuffer.push(pushEvent);\n        }\n        return pushEvent;\n    }\n    updateJoinPayload(payload) {\n        this.joinPush.updatePayload(payload);\n    }\n    /**\n     * Leaves the channel\n     *\n     * Unsubscribes from server events, and instructs channel to terminate on server.\n     * Triggers onClose() hooks.\n     *\n     * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n     * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n     */\n    unsubscribe(timeout = this.timeout) {\n        this.state = CHANNEL_STATES.leaving;\n        let onClose = () => {\n            this.socket.log('channel', `leave ${this.topic}`);\n            this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef());\n        };\n        // Destroy joinPush to avoid connection timeouts during unscription phase\n        this.joinPush.destroy();\n        let leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n        leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose());\n        leavePush.send();\n        if (!this.canPush()) {\n            leavePush.trigger('ok', {});\n        }\n        return leavePush;\n    }\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling before dispatching to the channel callbacks.\n     * Must return the payload, modified or unmodified.\n     */\n    onMessage(event, payload, ref) {\n        return payload;\n    }\n    isMember(topic) {\n        return this.topic === topic;\n    }\n    joinRef() {\n        return this.joinPush.ref;\n    }\n    rejoin(timeout = this.timeout) {\n        if (this.isLeaving()) {\n            return;\n        }\n        this.socket.leaveOpenTopic(this.topic);\n        this.state = CHANNEL_STATES.joining;\n        this.joinPush.resend(timeout);\n    }\n    trigger(event, payload, ref) {\n        let { close, error, leave, join } = CHANNEL_EVENTS;\n        let events = [close, error, leave, join];\n        if (ref && events.indexOf(event) >= 0 && ref !== this.joinRef()) {\n            return;\n        }\n        let handledPayload = this.onMessage(event, payload, ref);\n        if (payload && !handledPayload) {\n            throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n        }\n        this.bindings\n            .filter((bind) => {\n            // Bind all events if the user specifies a wildcard.\n            if (bind.event === '*') {\n                return event === (payload === null || payload === void 0 ? void 0 : payload.type);\n            }\n            else {\n                return bind.event === event;\n            }\n        })\n            .map((bind) => bind.callback(handledPayload, ref));\n    }\n    replyEventName(ref) {\n        return `chan_reply_${ref}`;\n    }\n    isClosed() {\n        return this.state === CHANNEL_STATES.closed;\n    }\n    isErrored() {\n        return this.state === CHANNEL_STATES.errored;\n    }\n    isJoined() {\n        return this.state === CHANNEL_STATES.joined;\n    }\n    isJoining() {\n        return this.state === CHANNEL_STATES.joining;\n    }\n    isLeaving() {\n        return this.state === CHANNEL_STATES.leaving;\n    }\n}\n//# sourceMappingURL=RealtimeSubscription.js.map","/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\nexport default class RealtimePresence {\n    /**\n     * Initializes the Presence.\n     *\n     * @param channel - The RealtimeSubscription\n     * @param opts - The options,\n     *        for example `{events: {state: 'state', diff: 'diff'}}`\n     */\n    constructor(channel, opts) {\n        this.channel = channel;\n        this.state = {};\n        this.pendingDiffs = [];\n        this.joinRef = null;\n        this.caller = {\n            onJoin: () => { },\n            onLeave: () => { },\n            onSync: () => { },\n        };\n        const events = (opts === null || opts === void 0 ? void 0 : opts.events) || {\n            state: 'presence_state',\n            diff: 'presence_diff',\n        };\n        this.channel.on(events.state, {}, (newState) => {\n            const { onJoin, onLeave, onSync } = this.caller;\n            this.joinRef = this.channel.joinRef();\n            this.state = RealtimePresence.syncState(this.state, newState, onJoin, onLeave);\n            this.pendingDiffs.forEach((diff) => {\n                this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave);\n            });\n            this.pendingDiffs = [];\n            onSync();\n        });\n        this.channel.on(events.diff, {}, (diff) => {\n            const { onJoin, onLeave, onSync } = this.caller;\n            if (this.inPendingSyncState()) {\n                this.pendingDiffs.push(diff);\n            }\n            else {\n                this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave);\n                onSync();\n            }\n        });\n    }\n    /**\n     * Used to sync the list of presences on the server with the\n     * client's state.\n     *\n     * An optional `onJoin` and `onLeave` callback can be provided to\n     * react to changes in the client's local presences across\n     * disconnects and reconnects with the server.\n     */\n    static syncState(currentState, newState, onJoin, onLeave) {\n        const state = this.cloneDeep(currentState);\n        const transformedState = this.transformState(newState);\n        const joins = {};\n        const leaves = {};\n        this.map(state, (key, presences) => {\n            if (!transformedState[key]) {\n                leaves[key] = presences;\n            }\n        });\n        this.map(transformedState, (key, newPresences) => {\n            const currentPresences = state[key];\n            if (currentPresences) {\n                const newPresenceIds = newPresences.map((m) => m.presence_id);\n                const curPresenceIds = currentPresences.map((m) => m.presence_id);\n                const joinedPresences = newPresences.filter((m) => curPresenceIds.indexOf(m.presence_id) < 0);\n                const leftPresences = currentPresences.filter((m) => newPresenceIds.indexOf(m.presence_id) < 0);\n                if (joinedPresences.length > 0) {\n                    joins[key] = joinedPresences;\n                }\n                if (leftPresences.length > 0) {\n                    leaves[key] = leftPresences;\n                }\n            }\n            else {\n                joins[key] = newPresences;\n            }\n        });\n        return this.syncDiff(state, { joins, leaves }, onJoin, onLeave);\n    }\n    /**\n     * Used to sync a diff of presence join and leave events from the\n     * server, as they happen.\n     *\n     * Like `syncState`, `syncDiff` accepts optional `onJoin` and\n     * `onLeave` callbacks to react to a user joining or leaving from a\n     * device.\n     */\n    static syncDiff(state, diff, onJoin, onLeave) {\n        const { joins, leaves } = {\n            joins: this.transformState(diff.joins),\n            leaves: this.transformState(diff.leaves),\n        };\n        if (!onJoin) {\n            onJoin = () => { };\n        }\n        if (!onLeave) {\n            onLeave = () => { };\n        }\n        this.map(joins, (key, newPresences) => {\n            const currentPresences = state[key];\n            state[key] = this.cloneDeep(newPresences);\n            if (currentPresences) {\n                const joinedPresenceIds = state[key].map((m) => m.presence_id);\n                const curPresences = currentPresences.filter((m) => joinedPresenceIds.indexOf(m.presence_id) < 0);\n                state[key].unshift(...curPresences);\n            }\n            onJoin(key, currentPresences, newPresences);\n        });\n        this.map(leaves, (key, leftPresences) => {\n            let currentPresences = state[key];\n            if (!currentPresences)\n                return;\n            const presenceIdsToRemove = leftPresences.map((m) => m.presence_id);\n            currentPresences = currentPresences.filter((m) => presenceIdsToRemove.indexOf(m.presence_id) < 0);\n            state[key] = currentPresences;\n            onLeave(key, currentPresences, leftPresences);\n            if (currentPresences.length === 0)\n                delete state[key];\n        });\n        return state;\n    }\n    /**\n     * Returns the array of presences, with selected metadata.\n     */\n    static list(presences, chooser) {\n        if (!chooser) {\n            chooser = (_key, pres) => pres;\n        }\n        return this.map(presences, (key, presences) => chooser(key, presences));\n    }\n    static map(obj, func) {\n        return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]));\n    }\n    /**\n     * Remove 'metas' key\n     * Change 'phx_ref' to 'presence_id'\n     * Remove 'phx_ref' and 'phx_ref_prev'\n     *\n     * @example\n     * // returns {\n     *  abc123: [\n     *    { presence_id: '2', user_id: 1 },\n     *    { presence_id: '3', user_id: 2 }\n     *  ]\n     * }\n     * RealtimePresence.transformState({\n     *  abc123: {\n     *    metas: [\n     *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n     *      { phx_ref: '3', user_id: 2 }\n     *    ]\n     *  }\n     * })\n     */\n    static transformState(state) {\n        state = this.cloneDeep(state);\n        return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n            const presences = state[key];\n            if ('metas' in presences) {\n                newState[key] = presences.metas.map((presence) => {\n                    presence['presence_id'] = presence['phx_ref'];\n                    delete presence['phx_ref'];\n                    delete presence['phx_ref_prev'];\n                    return presence;\n                });\n            }\n            else {\n                newState[key] = presences;\n            }\n            return newState;\n        }, {});\n    }\n    static cloneDeep(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n    onJoin(callback) {\n        this.caller.onJoin = callback;\n    }\n    onLeave(callback) {\n        this.caller.onLeave = callback;\n    }\n    onSync(callback) {\n        this.caller.onSync = callback;\n    }\n    list(by) {\n        return RealtimePresence.list(this.state, by);\n    }\n    inPendingSyncState() {\n        return !this.joinRef || this.joinRef !== this.channel.joinRef();\n    }\n}\n//# sourceMappingURL=RealtimePresence.js.map","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nimport RealtimePresence from './RealtimePresence';\nexport default class RealtimeChannel {\n    constructor(topic, params = {}, socket) {\n        this.topic = topic;\n        this.params = params;\n        this.socket = socket;\n        this.bindings = [];\n        this.state = CHANNEL_STATES.closed;\n        this.joinedOnce = false;\n        this.pushBuffer = [];\n        this.timeout = this.socket.timeout;\n        this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n        this.rejoinTimer = new Timer(() => this.rejoinUntilConnected(), this.socket.reconnectAfterMs);\n        this.joinPush.receive('ok', () => {\n            this.state = CHANNEL_STATES.joined;\n            this.rejoinTimer.reset();\n            this.pushBuffer.forEach((pushEvent) => pushEvent.send());\n            this.pushBuffer = [];\n        });\n        this.onClose(() => {\n            this.rejoinTimer.reset();\n            this.socket.log('channel', `close ${this.topic} ${this.joinRef()}`);\n            this.state = CHANNEL_STATES.closed;\n            this.socket.remove(this);\n        });\n        this.onError((reason) => {\n            if (this.isLeaving() || this.isClosed()) {\n                return;\n            }\n            this.socket.log('channel', `error ${this.topic}`, reason);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.joinPush.receive('timeout', () => {\n            if (!this.isJoining()) {\n                return;\n            }\n            this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.on(CHANNEL_EVENTS.reply, {}, (payload, ref) => {\n            this.trigger(this.replyEventName(ref), payload);\n        });\n        this.presence = new RealtimePresence(this);\n    }\n    list() {\n        return this.presence.list();\n    }\n    rejoinUntilConnected() {\n        this.rejoinTimer.scheduleTimeout();\n        if (this.socket.isConnected()) {\n            this.rejoin();\n        }\n    }\n    subscribe(timeout = this.timeout) {\n        if (this.joinedOnce) {\n            throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n        }\n        else {\n            const configs = this.bindings.reduce((acc, binding) => {\n                const { type } = binding;\n                if (![\n                    'phx_close',\n                    'phx_error',\n                    'phx_reply',\n                    'presence_diff',\n                    'presence_state',\n                ].includes(type)) {\n                    acc[type] = binding;\n                }\n                return acc;\n            }, {});\n            if (Object.keys(configs).length) {\n                this.updateJoinPayload({ configs });\n            }\n            this.joinedOnce = true;\n            this.rejoin(timeout);\n            return this.joinPush;\n        }\n    }\n    /**\n     * Registers a callback that will be executed when the channel closes.\n     */\n    onClose(callback) {\n        this.on(CHANNEL_EVENTS.close, {}, callback);\n    }\n    /**\n     * Registers a callback that will be executed when the channel encounteres an error.\n     */\n    onError(callback) {\n        this.on(CHANNEL_EVENTS.error, {}, (reason) => callback(reason));\n    }\n    on(type, filter, callback) {\n        this.bindings.push({\n            type,\n            filter: filter !== null && filter !== void 0 ? filter : {},\n            callback: callback !== null && callback !== void 0 ? callback : (() => { }),\n        });\n    }\n    off(type, filter) {\n        this.bindings = this.bindings.filter((bind) => {\n            return !(bind.type === type && RealtimeChannel.isEqual(bind.filter, filter));\n        });\n    }\n    /**\n     * Returns `true` if the socket is connected and the channel has been joined.\n     */\n    canPush() {\n        return this.socket.isConnected() && this.isJoined();\n    }\n    push(event, payload, timeout = this.timeout) {\n        if (!this.joinedOnce) {\n            throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n        }\n        let pushEvent = new Push(this, event, payload, timeout);\n        if (this.canPush()) {\n            pushEvent.send();\n        }\n        else {\n            pushEvent.startTimeout();\n            this.pushBuffer.push(pushEvent);\n        }\n        return pushEvent;\n    }\n    updateJoinPayload(payload) {\n        this.joinPush.updatePayload(payload);\n    }\n    /**\n     * Leaves the channel.\n     *\n     * Unsubscribes from server events, and instructs channel to terminate on server.\n     * Triggers onClose() hooks.\n     *\n     * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n     * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n     */\n    unsubscribe(timeout = this.timeout) {\n        this.state = CHANNEL_STATES.leaving;\n        const onClose = () => {\n            this.socket.log('channel', `leave ${this.topic}`);\n            this.trigger(CHANNEL_EVENTS.close, 'leave', this.joinRef());\n        };\n        // Destroy joinPush to avoid connection timeouts during unscription phase\n        this.joinPush.destroy();\n        const leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n        leavePush.receive('ok', () => onClose()).receive('timeout', () => onClose());\n        leavePush.send();\n        if (!this.canPush()) {\n            leavePush.trigger('ok', {});\n        }\n        return leavePush;\n    }\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling before dispatching to the channel callbacks.\n     * Must return the payload, modified or unmodified.\n     */\n    onMessage(event, payload, ref) {\n        return payload;\n    }\n    isMember(topic) {\n        return this.topic === topic;\n    }\n    joinRef() {\n        return this.joinPush.ref;\n    }\n    rejoin(timeout = this.timeout) {\n        if (this.isLeaving()) {\n            return;\n        }\n        this.socket.leaveOpenTopic(this.topic);\n        this.state = CHANNEL_STATES.joining;\n        this.joinPush.resend(timeout);\n    }\n    trigger(type, payload, ref) {\n        const { close, error, leave, join } = CHANNEL_EVENTS;\n        const events = [close, error, leave, join];\n        if (ref && events.indexOf(type) >= 0 && ref !== this.joinRef()) {\n            return;\n        }\n        const handledPayload = this.onMessage(type, payload, ref);\n        if (payload && !handledPayload) {\n            throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n        }\n        this.bindings\n            .filter((bind) => {\n            var _a, _b;\n            return ((bind === null || bind === void 0 ? void 0 : bind.type) === type &&\n                (((_a = bind === null || bind === void 0 ? void 0 : bind.filter) === null || _a === void 0 ? void 0 : _a.event) === '*' ||\n                    ((_b = bind === null || bind === void 0 ? void 0 : bind.filter) === null || _b === void 0 ? void 0 : _b.event) === (payload === null || payload === void 0 ? void 0 : payload.event)));\n        })\n            .map((bind) => bind.callback(handledPayload, ref));\n    }\n    send(payload) {\n        const push = this.push(payload.type, payload);\n        return new Promise((resolve) => {\n            push.receive('ok', () => resolve('ok'));\n            push.receive('timeout', () => resolve('timeout'));\n        });\n    }\n    replyEventName(ref) {\n        return `chan_reply_${ref}`;\n    }\n    isClosed() {\n        return this.state === CHANNEL_STATES.closed;\n    }\n    isErrored() {\n        return this.state === CHANNEL_STATES.errored;\n    }\n    isJoined() {\n        return this.state === CHANNEL_STATES.joined;\n    }\n    isJoining() {\n        return this.state === CHANNEL_STATES.joining;\n    }\n    isLeaving() {\n        return this.state === CHANNEL_STATES.leaving;\n    }\n    static isEqual(obj1, obj2) {\n        if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n            return false;\n        }\n        for (const k in obj1) {\n            if (obj1[k] !== obj2[k]) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n//# sourceMappingURL=RealtimeChannel.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { w3cwebsocket } from 'websocket';\nimport { VSN, CHANNEL_EVENTS, TRANSPORTS, SOCKET_STATES, DEFAULT_TIMEOUT, WS_CLOSE_NORMAL, DEFAULT_HEADERS, CONNECTION_STATE, } from './lib/constants';\nimport Timer from './lib/timer';\nimport Serializer from './lib/serializer';\nimport RealtimeSubscription from './RealtimeSubscription';\nimport RealtimeChannel from './RealtimeChannel';\nconst noop = () => { };\nexport default class RealtimeClient {\n    /**\n     * Initializes the Socket.\n     *\n     * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n     * @param options.transport The Websocket Transport, for example WebSocket.\n     * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n     * @param options.params The optional params to pass when connecting.\n     * @param options.headers The optional headers to pass when connecting.\n     * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n     * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n     * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n     * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n     * @param options.longpollerTimeout The maximum timeout of a long poll AJAX request. Defaults to 20s (double the server long poll timer).\n     * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n     */\n    constructor(endPoint, options) {\n        this.accessToken = null;\n        this.channels = [];\n        this.endPoint = '';\n        this.headers = DEFAULT_HEADERS;\n        this.params = {};\n        this.timeout = DEFAULT_TIMEOUT;\n        this.transport = w3cwebsocket;\n        this.heartbeatIntervalMs = 30000;\n        this.longpollerTimeout = 20000;\n        this.heartbeatTimer = undefined;\n        this.pendingHeartbeatRef = null;\n        this.ref = 0;\n        this.logger = noop;\n        this.conn = null;\n        this.sendBuffer = [];\n        this.serializer = new Serializer();\n        this.stateChangeCallbacks = {\n            open: [],\n            close: [],\n            error: [],\n            message: [],\n        };\n        this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`;\n        if (options === null || options === void 0 ? void 0 : options.params)\n            this.params = options.params;\n        if (options === null || options === void 0 ? void 0 : options.headers)\n            this.headers = Object.assign(Object.assign({}, this.headers), options.headers);\n        if (options === null || options === void 0 ? void 0 : options.timeout)\n            this.timeout = options.timeout;\n        if (options === null || options === void 0 ? void 0 : options.logger)\n            this.logger = options.logger;\n        if (options === null || options === void 0 ? void 0 : options.transport)\n            this.transport = options.transport;\n        if (options === null || options === void 0 ? void 0 : options.heartbeatIntervalMs)\n            this.heartbeatIntervalMs = options.heartbeatIntervalMs;\n        if (options === null || options === void 0 ? void 0 : options.longpollerTimeout)\n            this.longpollerTimeout = options.longpollerTimeout;\n        this.reconnectAfterMs = (options === null || options === void 0 ? void 0 : options.reconnectAfterMs) ? options.reconnectAfterMs\n            : (tries) => {\n                return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n            };\n        this.encode = (options === null || options === void 0 ? void 0 : options.encode) ? options.encode\n            : (payload, callback) => {\n                return callback(JSON.stringify(payload));\n            };\n        this.decode = (options === null || options === void 0 ? void 0 : options.decode) ? options.decode\n            : this.serializer.decode.bind(this.serializer);\n        this.reconnectTimer = new Timer(() => __awaiter(this, void 0, void 0, function* () {\n            yield this.disconnect();\n            this.connect();\n        }), this.reconnectAfterMs);\n    }\n    /**\n     * Connects the socket, unless already connected.\n     */\n    connect() {\n        if (this.conn) {\n            return;\n        }\n        this.conn = new this.transport(this.endPointURL(), [], null, this.headers);\n        if (this.conn) {\n            // this.conn.timeout = this.longpollerTimeout // TYPE ERROR\n            this.conn.binaryType = 'arraybuffer';\n            this.conn.onopen = () => this._onConnOpen();\n            this.conn.onerror = (error) => this._onConnError(error);\n            this.conn.onmessage = (event) => this.onConnMessage(event);\n            this.conn.onclose = (event) => this._onConnClose(event);\n        }\n    }\n    /**\n     * Disconnects the socket.\n     *\n     * @param code A numeric status code to send on disconnect.\n     * @param reason A custom reason for the disconnect.\n     */\n    disconnect(code, reason) {\n        return new Promise((resolve, _reject) => {\n            try {\n                if (this.conn) {\n                    this.conn.onclose = function () { }; // noop\n                    if (code) {\n                        this.conn.close(code, reason || '');\n                    }\n                    else {\n                        this.conn.close();\n                    }\n                    this.conn = null;\n                    // remove open handles\n                    this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n                    this.reconnectTimer.reset();\n                }\n                resolve({ error: null, data: true });\n            }\n            catch (error) {\n                resolve({ error: error, data: false });\n            }\n        });\n    }\n    /**\n     * Logs the message.\n     *\n     * For customized logging, `this.logger` can be overriden.\n     */\n    log(kind, msg, data) {\n        this.logger(kind, msg, data);\n    }\n    /**\n     * Registers a callback for connection state change event.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen(() => console.log(\"Socket opened.\"))\n     */\n    onOpen(callback) {\n        this.stateChangeCallbacks.open.push(callback);\n    }\n    /**\n     * Registers a callback for connection state change events.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen(() => console.log(\"Socket closed.\"))\n     */\n    onClose(callback) {\n        this.stateChangeCallbacks.close.push(callback);\n    }\n    /**\n     * Registers a callback for connection state change events.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onOpen((error) => console.log(\"An error occurred\"))\n     */\n    onError(callback) {\n        this.stateChangeCallbacks.error.push(callback);\n    }\n    /**\n     * Calls a function any time a message is received.\n     *\n     * @param callback A function to be called when the event occurs.\n     *\n     * @example\n     *    socket.onMessage((message) => console.log(message))\n     */\n    onMessage(callback) {\n        this.stateChangeCallbacks.message.push(callback);\n    }\n    /**\n     * Returns the current state of the socket.\n     */\n    connectionState() {\n        switch (this.conn && this.conn.readyState) {\n            case SOCKET_STATES.connecting:\n                return CONNECTION_STATE.Connecting;\n            case SOCKET_STATES.open:\n                return CONNECTION_STATE.Open;\n            case SOCKET_STATES.closing:\n                return CONNECTION_STATE.Closing;\n            default:\n                return CONNECTION_STATE.Closed;\n        }\n    }\n    /**\n     * Retuns `true` is the connection is open.\n     */\n    isConnected() {\n        return this.connectionState() === CONNECTION_STATE.Open;\n    }\n    /**\n     * Removes a subscription from the socket.\n     *\n     * @param channel An open subscription.\n     */\n    remove(channel) {\n        this.channels = this.channels.filter((c) => c.joinRef() !== channel.joinRef());\n    }\n    channel(topic, chanParams = {}) {\n        var _a;\n        const { selfBroadcast } = chanParams, params = __rest(chanParams, [\"selfBroadcast\"]);\n        if (selfBroadcast) {\n            params.self_broadcast = selfBroadcast;\n        }\n        const chan = ((_a = this.params) === null || _a === void 0 ? void 0 : _a.vsndate) ? new RealtimeChannel(topic, params, this)\n            : new RealtimeSubscription(topic, params, this);\n        if (chan instanceof RealtimeChannel) {\n            chan.presence.onJoin((key, currentPresences, newPresences) => {\n                chan.trigger('presence', {\n                    event: 'JOIN',\n                    key,\n                    currentPresences,\n                    newPresences,\n                });\n            });\n            chan.presence.onLeave((key, currentPresences, leftPresences) => {\n                chan.trigger('presence', {\n                    event: 'LEAVE',\n                    key,\n                    currentPresences,\n                    leftPresences,\n                });\n            });\n            chan.presence.onSync(() => {\n                chan.trigger('presence', { event: 'SYNC' });\n            });\n        }\n        this.channels.push(chan);\n        return chan;\n    }\n    /**\n     * Push out a message if the socket is connected.\n     *\n     * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n     */\n    push(data) {\n        const { topic, event, payload, ref } = data;\n        let callback = () => {\n            this.encode(data, (result) => {\n                var _a;\n                (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(result);\n            });\n        };\n        this.log('push', `${topic} ${event} (${ref})`, payload);\n        if (this.isConnected()) {\n            callback();\n        }\n        else {\n            this.sendBuffer.push(callback);\n        }\n    }\n    onConnMessage(rawMessage) {\n        this.decode(rawMessage.data, (msg) => {\n            let { topic, event, payload, ref } = msg;\n            if ((ref && ref === this.pendingHeartbeatRef) ||\n                event === (payload === null || payload === void 0 ? void 0 : payload.type)) {\n                this.pendingHeartbeatRef = null;\n            }\n            this.log('receive', `${payload.status || ''} ${topic} ${event} ${(ref && '(' + ref + ')') || ''}`, payload);\n            this.channels\n                .filter((channel) => channel.isMember(topic))\n                .forEach((channel) => channel.trigger(event, payload, ref));\n            this.stateChangeCallbacks.message.forEach((callback) => callback(msg));\n        });\n    }\n    /**\n     * Returns the URL of the websocket.\n     */\n    endPointURL() {\n        return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: VSN }));\n    }\n    /**\n     * Return the next message ref, accounting for overflows\n     */\n    makeRef() {\n        let newRef = this.ref + 1;\n        if (newRef === this.ref) {\n            this.ref = 0;\n        }\n        else {\n            this.ref = newRef;\n        }\n        return this.ref.toString();\n    }\n    /**\n     * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n     *\n     * @param token A JWT string.\n     */\n    setAuth(token) {\n        this.accessToken = token;\n        this.channels.forEach((channel) => {\n            token && channel.updateJoinPayload({ user_token: token });\n            if (channel.joinedOnce && channel.isJoined()) {\n                channel.push(CHANNEL_EVENTS.access_token, { access_token: token });\n            }\n        });\n    }\n    /**\n     * Unsubscribe from channels with the specified topic.\n     */\n    leaveOpenTopic(topic) {\n        let dupChannel = this.channels.find((c) => c.topic === topic && (c.isJoined() || c.isJoining()));\n        if (dupChannel) {\n            this.log('transport', `leaving duplicate topic \"${topic}\"`);\n            dupChannel.unsubscribe();\n        }\n    }\n    _onConnOpen() {\n        this.log('transport', `connected to ${this.endPointURL()}`);\n        this._flushSendBuffer();\n        this.reconnectTimer.reset();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(() => this._sendHeartbeat(), this.heartbeatIntervalMs);\n        this.stateChangeCallbacks.open.forEach((callback) => callback());\n    }\n    _onConnClose(event) {\n        this.log('transport', 'close', event);\n        this._triggerChanError();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.reconnectTimer.scheduleTimeout();\n        this.stateChangeCallbacks.close.forEach((callback) => callback(event));\n    }\n    _onConnError(error) {\n        this.log('transport', error.message);\n        this._triggerChanError();\n        this.stateChangeCallbacks.error.forEach((callback) => callback(error));\n    }\n    _triggerChanError() {\n        this.channels.forEach((channel) => channel.trigger(CHANNEL_EVENTS.error));\n    }\n    _appendParams(url, params) {\n        if (Object.keys(params).length === 0) {\n            return url;\n        }\n        const prefix = url.match(/\\?/) ? '&' : '?';\n        const query = new URLSearchParams(params);\n        return `${url}${prefix}${query}`;\n    }\n    _flushSendBuffer() {\n        if (this.isConnected() && this.sendBuffer.length > 0) {\n            this.sendBuffer.forEach((callback) => callback());\n            this.sendBuffer = [];\n        }\n    }\n    _sendHeartbeat() {\n        var _a;\n        if (!this.isConnected()) {\n            return;\n        }\n        if (this.pendingHeartbeatRef) {\n            this.pendingHeartbeatRef = null;\n            this.log('transport', 'heartbeat timeout. Attempting to re-establish connection');\n            (_a = this.conn) === null || _a === void 0 ? void 0 : _a.close(WS_CLOSE_NORMAL, 'hearbeat timeout');\n            return;\n        }\n        this.pendingHeartbeatRef = this.makeRef();\n        this.push({\n            topic: 'phoenix',\n            event: 'heartbeat',\n            payload: {},\n            ref: this.pendingHeartbeatRef,\n        });\n        this.setAuth(this.accessToken);\n    }\n}\n//# sourceMappingURL=RealtimeClient.js.map","import { Transformers } from '@supabase/realtime-js';\nexport class SupabaseRealtimeClient {\n    constructor(socket, headers, schema, tableName) {\n        const chanParams = {};\n        const topic = tableName === '*' ? `realtime:${schema}` : `realtime:${schema}:${tableName}`;\n        const userToken = headers['Authorization'].split(' ')[1];\n        if (userToken) {\n            chanParams['user_token'] = userToken;\n        }\n        this.subscription = socket.channel(topic, chanParams);\n    }\n    getPayloadRecords(payload) {\n        const records = {\n            new: {},\n            old: {},\n        };\n        if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n            records.new = Transformers.convertChangeData(payload.columns, payload.record);\n        }\n        if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n            records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n        }\n        return records;\n    }\n    /**\n     * The event you want to listen to.\n     *\n     * @param event The event\n     * @param callback A callback function that is called whenever the event occurs.\n     */\n    on(event, callback) {\n        this.subscription.on(event, (payload) => {\n            let enrichedPayload = {\n                schema: payload.schema,\n                table: payload.table,\n                commit_timestamp: payload.commit_timestamp,\n                eventType: payload.type,\n                new: {},\n                old: {},\n                errors: payload.errors,\n            };\n            enrichedPayload = Object.assign(Object.assign({}, enrichedPayload), this.getPayloadRecords(payload));\n            callback(enrichedPayload);\n        });\n        return this;\n    }\n    /**\n     * Enables the subscription.\n     */\n    subscribe(callback = () => { }) {\n        this.subscription.onError((e) => callback('SUBSCRIPTION_ERROR', e));\n        this.subscription.onClose(() => callback('CLOSED'));\n        this.subscription\n            .subscribe()\n            .receive('ok', () => callback('SUBSCRIBED'))\n            .receive('error', (e) => callback('SUBSCRIPTION_ERROR', e))\n            .receive('timeout', () => callback('RETRYING_AFTER_TIMEOUT'));\n        return this.subscription;\n    }\n}\n//# sourceMappingURL=SupabaseRealtimeClient.js.map","import { PostgrestQueryBuilder } from '@supabase/postgrest-js';\nimport { SupabaseRealtimeClient } from './SupabaseRealtimeClient';\nexport class SupabaseQueryBuilder extends PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, realtime, table, fetch, shouldThrowOnError, }) {\n        super(url, { headers, schema, fetch, shouldThrowOnError });\n        this._subscription = null;\n        this._realtime = realtime;\n        this._headers = headers;\n        this._schema = schema;\n        this._table = table;\n    }\n    /**\n     * Subscribe to realtime changes in your database.\n     * @param event The database event which you would like to receive updates for, or you can use the special wildcard `*` to listen to all changes.\n     * @param callback A callback that will handle the payload that is sent whenever your database changes.\n     */\n    on(event, callback) {\n        if (!this._realtime.isConnected()) {\n            this._realtime.connect();\n        }\n        if (!this._subscription) {\n            this._subscription = new SupabaseRealtimeClient(this._realtime, this._headers, this._schema, this._table);\n        }\n        return this._subscription.on(event, callback);\n    }\n}\n//# sourceMappingURL=SupabaseQueryBuilder.js.map","// generated by genversion\nexport const version = '0.0.0';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` };\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => {\n    if (typeof error.json !== 'function') {\n        return reject(error);\n    }\n    error.json().then((err) => {\n        return reject({\n            message: _getErrorMessage(err),\n            status: (error === null || error === void 0 ? void 0 : error.status) || 500,\n        });\n    });\n};\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return Object.assign(Object.assign({}, params), parameters);\n};\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, parameters, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return resolve(result);\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options, parameters);\n    });\n}\nexport function post(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, parameters, body);\n    });\n}\nexport function put(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, parameters, body);\n    });\n}\nexport function remove(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, parameters, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS } from './constants';\nimport { get, post, put, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nexport class StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Retrieves the details of all Storage buckets within an existing project.\n     */\n    listBuckets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing Storage bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to retrieve.\n     */\n    getBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Creates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     * @returns newly created bucket id\n     */\n    createBucket(id, options = { public: false }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data: data.name, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Updates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are updating.\n     */\n    updateBucket(id, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/bucket/${id}`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Removes all objects inside a single bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to empty.\n     */\n    emptyBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket/${id}/empty`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n     * You must first `empty()` the bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to delete.\n     */\n    deleteBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/bucket/${id}`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=StorageBucketApi.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { get, post, remove } from './fetch';\nimport { resolveFetch } from './helpers';\nconst DEFAULT_SEARCH_OPTIONS = {\n    limit: 100,\n    offset: 0,\n    sortBy: {\n        column: 'name',\n        order: 'asc',\n    },\n};\nconst DEFAULT_FILE_OPTIONS = {\n    cacheControl: '3600',\n    contentType: 'text/plain;charset=UTF-8',\n    upsert: false,\n};\nexport class StorageFileApi {\n    constructor(url, headers = {}, bucketId, fetch) {\n        this.url = url;\n        this.headers = headers;\n        this.bucketId = bucketId;\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n     *\n     * @param method HTTP method.\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    uploadOrUpdate(method, path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let body;\n                const options = Object.assign(Object.assign({}, DEFAULT_FILE_OPTIONS), fileOptions);\n                const headers = Object.assign(Object.assign({}, this.headers), (method === 'POST' && { 'x-upsert': String(options.upsert) }));\n                if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n                    body = new FormData();\n                    body.append('cacheControl', options.cacheControl);\n                    body.append('', fileBody);\n                }\n                else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n                    body = fileBody;\n                    body.append('cacheControl', options.cacheControl);\n                }\n                else {\n                    body = fileBody;\n                    headers['cache-control'] = `max-age=${options.cacheControl}`;\n                    headers['content-type'] = options.contentType;\n                }\n                const cleanPath = this._removeEmptyFolders(path);\n                const _path = this._getFinalPath(cleanPath);\n                const res = yield this.fetch(`${this.url}/object/${_path}`, {\n                    method,\n                    body: body,\n                    headers,\n                });\n                if (res.ok) {\n                    // const data = await res.json()\n                    // temporary fix till backend is updated to the latest storage-api version\n                    return { data: { Key: _path }, error: null };\n                }\n                else {\n                    const error = yield res.json();\n                    return { data: null, error };\n                }\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Uploads a file to an existing bucket.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    upload(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('POST', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Replaces an existing file at the specified path with a new one.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     * @param fileOptions HTTP headers.\n     * `cacheControl`: string, the `Cache-Control: max-age=<seconds>` seconds value.\n     * `contentType`: string, the `Content-Type` header value. Should be specified if using a `fileBody` that is neither `Blob` nor `File` nor `FormData`, otherwise will default to `text/plain;charset=UTF-8`.\n     * `upsert`: boolean, whether to perform an upsert.\n     */\n    update(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('PUT', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Moves an existing file.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n     */\n    move(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/move`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Copies an existing file.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n     */\n    copy(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/copy`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Create signed URL to download file without requiring permissions. This URL can be valid for a set number of seconds.\n     *\n     * @param path The file path to be downloaded, including the current file name. For example `folder/image.png`.\n     * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n     */\n    createSignedUrl(path, expiresIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const _path = this._getFinalPath(path);\n                let data = yield post(this.fetch, `${this.url}/object/sign/${_path}`, { expiresIn }, { headers: this.headers });\n                const signedURL = `${this.url}${data.signedURL}`;\n                data = { signedURL };\n                return { data, error: null, signedURL };\n            }\n            catch (error) {\n                return { data: null, error, signedURL: null };\n            }\n        });\n    }\n    /**\n     * Create signed URLs to download files without requiring permissions. These URLs can be valid for a set number of seconds.\n     *\n     * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n     * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n     */\n    createSignedUrls(paths, expiresIn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn, paths }, { headers: this.headers });\n                return {\n                    data: data.map((datum) => (Object.assign(Object.assign({}, datum), { signedURL: datum.signedURL ? `${this.url}${datum.signedURL}` : null }))),\n                    error: null,\n                };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Downloads a file.\n     *\n     * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n     */\n    download(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const _path = this._getFinalPath(path);\n                const res = yield get(this.fetch, `${this.url}/object/${_path}`, {\n                    headers: this.headers,\n                    noResolveJson: true,\n                });\n                const data = yield res.blob();\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Retrieve URLs for assets in public buckets\n     *\n     * @param path The file path to be downloaded, including the path and file name. For example `folder/image.png`.\n     */\n    getPublicUrl(path) {\n        try {\n            const _path = this._getFinalPath(path);\n            const publicURL = `${this.url}/object/public/${_path}`;\n            const data = { publicURL };\n            return { data, error: null, publicURL };\n        }\n        catch (error) {\n            return { data: null, error, publicURL: null };\n        }\n    }\n    /**\n     * Deletes files within the same bucket\n     *\n     * @param paths An array of files to be deleted, including the path and file name. For example [`folder/image.png`].\n     */\n    remove(paths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: paths }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    /**\n     * Get file metadata\n     * @param id the file id to retrieve metadata\n     */\n    // async getMetadata(id: string): Promise<{ data: Metadata | null; error: Error | null }> {\n    //   try {\n    //     const data = await get(`${this.url}/metadata/${id}`, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     return { data: null, error }\n    //   }\n    // }\n    /**\n     * Update file metadata\n     * @param id the file id to update metadata\n     * @param meta the new file metadata\n     */\n    // async updateMetadata(\n    //   id: string,\n    //   meta: Metadata\n    // ): Promise<{ data: Metadata | null; error: Error | null }> {\n    //   try {\n    //     const data = await post(`${this.url}/metadata/${id}`, { ...meta }, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     return { data: null, error }\n    //   }\n    // }\n    /**\n     * Lists all the files within a bucket.\n     * @param path The folder path.\n     * @param options Search options, including `limit`, `offset`, and `sortBy`.\n     * @param parameters Fetch parameters, currently only supports `signal`, which is an AbortController's signal\n     */\n    list(path, options, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const body = Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_OPTIONS), options), { prefix: path || '' });\n                const data = yield post(this.fetch, `${this.url}/object/list/${this.bucketId}`, body, { headers: this.headers }, parameters);\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n    _getFinalPath(path) {\n        return `${this.bucketId}/${path}`;\n    }\n    _removeEmptyFolders(path) {\n        return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/');\n    }\n}\n//# sourceMappingURL=StorageFileApi.js.map","import { StorageBucketApi, StorageFileApi } from './lib';\nexport class StorageClient extends StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        super(url, headers, fetch);\n    }\n    /**\n     * Perform file operation in a bucket.\n     *\n     * @param id The bucket id to operate on.\n     */\n    from(id) {\n        return new StorageFileApi(this.url, this.headers, id, this.fetch);\n    }\n}\n//# sourceMappingURL=StorageClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helper.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { resolveFetch } from './helper';\nexport class FunctionsClient {\n    constructor(url, { headers = {}, customFetch, } = {}) {\n        this.url = url;\n        this.headers = headers;\n        this.fetch = resolveFetch(customFetch);\n    }\n    /**\n     * Updates the authorization header\n     * @params token - the new jwt token sent in the authorisation header\n     */\n    setAuth(token) {\n        this.headers.Authorization = `Bearer ${token}`;\n    }\n    /**\n     * Invokes a function\n     * @param functionName - the name of the function to invoke\n     * @param invokeOptions - object with the following properties\n     * `headers`: object representing the headers to send with the request\n     * `body`: the body of the request\n     * `responseType`: how the response should be parsed. The default is `json`\n     */\n    invoke(functionName, invokeOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { headers, body } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n                const response = yield this.fetch(`${this.url}/${functionName}`, {\n                    method: 'POST',\n                    headers: Object.assign({}, this.headers, headers),\n                    body,\n                });\n                const isRelayError = response.headers.get('x-relay-error');\n                if (isRelayError && isRelayError === 'true') {\n                    return { data: null, error: new Error(yield response.text()) };\n                }\n                let data;\n                const { responseType } = invokeOptions !== null && invokeOptions !== void 0 ? invokeOptions : {};\n                if (!responseType || responseType === 'json') {\n                    data = yield response.json();\n                }\n                else if (responseType === 'arrayBuffer') {\n                    data = yield response.arrayBuffer();\n                }\n                else if (responseType === 'blob') {\n                    data = yield response.blob();\n                }\n                else {\n                    data = yield response.text();\n                }\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS, STORAGE_KEY } from './lib/constants';\nimport { stripTrailingSlash, isBrowser } from './lib/helpers';\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient';\nimport { SupabaseQueryBuilder } from './lib/SupabaseQueryBuilder';\nimport { SupabaseStorageClient } from '@supabase/storage-js';\nimport { FunctionsClient } from '@supabase/functions-js';\nimport { PostgrestClient } from '@supabase/postgrest-js';\nimport { RealtimeClient, } from '@supabase/realtime-js';\nconst DEFAULT_OPTIONS = {\n    schema: 'public',\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    multiTab: true,\n    headers: DEFAULT_HEADERS,\n};\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n     * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n     * @param options.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n     * @param options.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.headers Any additional headers to send with each network request.\n     * @param options.realtime Options passed along to realtime-js constructor.\n     * @param options.multiTab Set to \"false\" if you want to disable multi-tab/window events.\n     * @param options.fetch A custom fetch implementation.\n     */\n    constructor(supabaseUrl, supabaseKey, options) {\n        this.supabaseUrl = supabaseUrl;\n        this.supabaseKey = supabaseKey;\n        if (!supabaseUrl)\n            throw new Error('supabaseUrl is required.');\n        if (!supabaseKey)\n            throw new Error('supabaseKey is required.');\n        const _supabaseUrl = stripTrailingSlash(supabaseUrl);\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.restUrl = `${_supabaseUrl}/rest/v1`;\n        this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace('http', 'ws');\n        this.authUrl = `${_supabaseUrl}/auth/v1`;\n        this.storageUrl = `${_supabaseUrl}/storage/v1`;\n        const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/);\n        if (isPlatform) {\n            const urlParts = _supabaseUrl.split('.');\n            this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`;\n        }\n        else {\n            this.functionsUrl = `${_supabaseUrl}/functions/v1`;\n        }\n        this.schema = settings.schema;\n        this.multiTab = settings.multiTab;\n        this.fetch = settings.fetch;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), options === null || options === void 0 ? void 0 : options.headers);\n        this.shouldThrowOnError = settings.shouldThrowOnError || false;\n        this.auth = this._initSupabaseAuthClient(settings);\n        this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers }, settings.realtime));\n        this._listenForAuthEvents();\n        this._listenForMultiTabEvents();\n        // In the future we might allow the user to pass in a logger to receive these events.\n        // this.realtime.onOpen(() => console.log('OPEN'))\n        // this.realtime.onClose(() => console.log('CLOSED'))\n        // this.realtime.onError((e: Error) => console.log('Socket error', e))\n    }\n    /**\n     * Supabase Functions allows you to deploy and invoke edge functions.\n     */\n    get functions() {\n        return new FunctionsClient(this.functionsUrl, {\n            headers: this._getAuthHeaders(),\n            customFetch: this.fetch,\n        });\n    }\n    /**\n     * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n     */\n    get storage() {\n        return new SupabaseStorageClient(this.storageUrl, this._getAuthHeaders(), this.fetch);\n    }\n    /**\n     * Perform a table operation.\n     *\n     * @param table The table name to operate on.\n     */\n    from(table) {\n        const url = `${this.restUrl}/${table}`;\n        return new SupabaseQueryBuilder(url, {\n            headers: this._getAuthHeaders(),\n            schema: this.schema,\n            realtime: this.realtime,\n            table,\n            fetch: this.fetch,\n            shouldThrowOnError: this.shouldThrowOnError,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param params  The parameters to pass to the function call.\n     * @param head   When set to true, no data will be returned.\n     * @param count  Count algorithm to use to count rows in a table.\n     *\n     */\n    rpc(fn, params, { head = false, count = null, } = {}) {\n        const rest = this._initPostgRESTClient();\n        return rest.rpc(fn, params, { head, count });\n    }\n    /**\n     * Creates a channel with Broadcast and Presence.\n     * Activated when vsndate query param is present in the WebSocket URL.\n     */\n    channel(name, opts) {\n        var _a, _b;\n        const userToken = (_b = (_a = this.auth.session()) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : this.supabaseKey;\n        if (!this.realtime.isConnected()) {\n            this.realtime.connect();\n        }\n        return this.realtime.channel(name, Object.assign(Object.assign({}, opts), { user_token: userToken }));\n    }\n    /**\n     * Closes and removes all subscriptions and returns a list of removed\n     * subscriptions and their errors.\n     */\n    removeAllSubscriptions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const allSubs = this.getSubscriptions().slice();\n            const allSubPromises = allSubs.map((sub) => this.removeSubscription(sub));\n            const allRemovedSubs = yield Promise.all(allSubPromises);\n            return allRemovedSubs.map(({ error }, i) => {\n                return {\n                    data: { subscription: allSubs[i] },\n                    error,\n                };\n            });\n        });\n    }\n    /**\n     * Closes and removes a channel and returns the number of open channels.\n     *\n     * @param channel The channel you want to close and remove.\n     */\n    removeChannel(channel) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { error } = yield this._closeSubscription(channel);\n            const allChans = this.getSubscriptions();\n            const openChanCount = allChans.filter((chan) => chan.isJoined()).length;\n            if (allChans.length === 0)\n                yield this.realtime.disconnect();\n            return { data: { openChannels: openChanCount }, error };\n        });\n    }\n    /**\n     * Closes and removes a subscription and returns the number of open subscriptions.\n     *\n     * @param subscription The subscription you want to close and remove.\n     */\n    removeSubscription(subscription) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { error } = yield this._closeSubscription(subscription);\n            const allSubs = this.getSubscriptions();\n            const openSubCount = allSubs.filter((chan) => chan.isJoined()).length;\n            if (allSubs.length === 0)\n                yield this.realtime.disconnect();\n            return { data: { openSubscriptions: openSubCount }, error };\n        });\n    }\n    _closeSubscription(subscription) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let error = null;\n            if (!subscription.isClosed()) {\n                const { error: unsubError } = yield this._unsubscribeSubscription(subscription);\n                error = unsubError;\n            }\n            this.realtime.remove(subscription);\n            return { error };\n        });\n    }\n    _unsubscribeSubscription(subscription) {\n        return new Promise((resolve) => {\n            subscription\n                .unsubscribe()\n                .receive('ok', () => resolve({ error: null }))\n                .receive('error', (error) => resolve({ error }))\n                .receive('timeout', () => resolve({ error: new Error('timed out') }));\n        });\n    }\n    /**\n     * Returns an array of all your subscriptions.\n     */\n    getSubscriptions() {\n        return this.realtime.channels;\n    }\n    _initSupabaseAuthClient({ autoRefreshToken, persistSession, detectSessionInUrl, localStorage, headers, fetch, cookieOptions, multiTab, }) {\n        const authHeaders = {\n            Authorization: `Bearer ${this.supabaseKey}`,\n            apikey: `${this.supabaseKey}`,\n        };\n        return new SupabaseAuthClient({\n            url: this.authUrl,\n            headers: Object.assign(Object.assign({}, headers), authHeaders),\n            autoRefreshToken,\n            persistSession,\n            detectSessionInUrl,\n            localStorage,\n            fetch,\n            cookieOptions,\n            multiTab,\n        });\n    }\n    _initRealtimeClient(options) {\n        return new RealtimeClient(this.realtimeUrl, Object.assign(Object.assign({}, options), { params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), { apikey: this.supabaseKey }) }));\n    }\n    _initPostgRESTClient() {\n        return new PostgrestClient(this.restUrl, {\n            headers: this._getAuthHeaders(),\n            schema: this.schema,\n            fetch: this.fetch,\n            throwOnError: this.shouldThrowOnError,\n        });\n    }\n    _getAuthHeaders() {\n        var _a, _b;\n        const headers = Object.assign({}, this.headers);\n        const authBearer = (_b = (_a = this.auth.session()) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : this.supabaseKey;\n        headers['apikey'] = this.supabaseKey;\n        headers['Authorization'] = headers['Authorization'] || `Bearer ${authBearer}`;\n        return headers;\n    }\n    _listenForMultiTabEvents() {\n        if (!this.multiTab || !isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return null;\n        }\n        try {\n            return window === null || window === void 0 ? void 0 : window.addEventListener('storage', (e) => {\n                var _a, _b, _c;\n                if (e.key === STORAGE_KEY) {\n                    const newSession = JSON.parse(String(e.newValue));\n                    const accessToken = (_b = (_a = newSession === null || newSession === void 0 ? void 0 : newSession.currentSession) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : undefined;\n                    const previousAccessToken = (_c = this.auth.session()) === null || _c === void 0 ? void 0 : _c.access_token;\n                    if (!accessToken) {\n                        this._handleTokenChanged('SIGNED_OUT', accessToken, 'STORAGE');\n                    }\n                    else if (!previousAccessToken && accessToken) {\n                        this._handleTokenChanged('SIGNED_IN', accessToken, 'STORAGE');\n                    }\n                    else if (previousAccessToken !== accessToken) {\n                        this._handleTokenChanged('TOKEN_REFRESHED', accessToken, 'STORAGE');\n                    }\n                }\n            });\n        }\n        catch (error) {\n            console.error('_listenForMultiTabEvents', error);\n            return null;\n        }\n    }\n    _listenForAuthEvents() {\n        let { data } = this.auth.onAuthStateChange((event, session) => {\n            this._handleTokenChanged(event, session === null || session === void 0 ? void 0 : session.access_token, 'CLIENT');\n        });\n        return data;\n    }\n    _handleTokenChanged(event, token, source) {\n        if ((event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n            this.changedAccessToken !== token) {\n            // Token has changed\n            this.realtime.setAuth(token);\n            // Ideally we should call this.auth.recoverSession() - need to make public\n            // to trigger a \"SIGNED_IN\" event on this client.\n            if (source == 'STORAGE')\n                this.auth.setAuth(token);\n            this.changedAccessToken = token;\n        }\n        else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n            // Token is removed\n            this.realtime.setAuth(this.supabaseKey);\n            if (source == 'STORAGE')\n                this.auth.signOut();\n        }\n    }\n}\n//# sourceMappingURL=SupabaseClient.js.map","import SupabaseClient from './SupabaseClient';\nexport * from '@supabase/gotrue-js';\nexport * from '@supabase/realtime-js';\n/**\n * Creates a new Supabase Client.\n */\nconst createClient = (supabaseUrl, supabaseKey, options) => {\n    return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\nexport { createClient, SupabaseClient, };\n//# sourceMappingURL=index.js.map","\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabase = createClient(\"https://hapstamqjeneuqemeqdc.supabase.co\",\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhcHN0YW1xamVuZXVxZW1lcWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjA0MTA2OTcsImV4cCI6MTk3NTk4NjY5N30.PIAizQUTawav59xeE_D3bgo-_5QmnYp9S8_dF0uyxL0\")\r\nexport default supabase\r\n","import script from \"./client.vue?vue&type=script&lang=ts\"\nexport * from \"./client.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","\nimport { defineComponent } from 'vue';\nimport supabase from '../components/client.vue';\n // @ is an alias to /src\n\nsupabase.from('users').on('UPDATE',res => {\n  console.log(res.commit_timestamp)\n})\nexport default defineComponent({\n  name: 'App',\n\n  data () {\n    return {\n      //\n      email:'',\n      name: ''\n    }\n  }, methods: {\n     async login() {\n      await supabase.auth.signIn({ email:this.email })\n       try {\n        supabase.from(\"users\").insert({\n          email: this.email,\n          name: this.name\n        })\n\n      } catch (e) {\n        throw new Error(`${e}`)\n      }\n    }\n  }\n})\n\n","import { render } from \"./Home.vue?vue&type=template&id=12b78d32&ts=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\lunaf\\\\Desktop\\\\carpeta-normal\\\\prototipos\\\\lo-que-sea\\\\moderno\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","module.exports = false;\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n"],"sourceRoot":""}